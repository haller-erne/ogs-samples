import { A, q as t, n, r as j, v as n$1, f as m, s as s$1, x, B, _ as __decorate, m as m$1, p } from './index-b0c4d8f8.js';

/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const l=l=>null!=l?l:A;

const r=(e,t,r)=>{Object.defineProperty(t,r,e);},i=(e,t)=>({kind:"method",placement:"prototype",key:t.key,descriptor:e});function o(o,s){return (n$1,l)=>{const u=n$1.firstUpdated;n$1.firstUpdated=function(){const r=this.querySelector(o),i=(null==s?void 0:s.exemptOn)&&(null==s?void 0:s.exemptOn(this));if(!r&&t()&&(null==s?void 0:s.required)&&!i){const e=s.requiredMessage||`The <${o}> element is required to use <${this.tagName.toLocaleLowerCase()}>`;if("error"===s.required)throw Error(e);n.warn(e,this);}(null==s?void 0:s.assign)&&!1===(null==r?void 0:r.hasAttribute("slot"))&&r.setAttribute("slot",s.assign),u&&u.apply(this);};const a={get(){return this.querySelector(o)},enumerable:!0,configurable:!0};return void 0!==l?r(a,n$1,l):i(a,n$1)}}function s(e,t){return (o,s)=>{const n=o.firstUpdated;o.firstUpdated=function(r){(null==t?void 0:t.assign)&&Array.from(this.querySelectorAll(e)).filter((e=>!e.hasAttribute("slot"))).forEach((e=>e.setAttribute("slot",t.assign))),n&&n.call(this,r);};const l={get(){return this.querySelectorAll(e)},enumerable:!0,configurable:!0};return void 0!==s?r(l,o,s):i(l,o)}}

const r$1=new Map([["arrow-left","ArrowLeft"],["arrow-right","ArrowRight"],["arrow-up","ArrowUp"],["arrow-down","ArrowDown"],["tab","Tab"],["enter","Enter"],["escape","Escape"],["space"," "],["home","Home"],["end","End"]]);class e{static get keycodes(){return j(r$1)}static add(t,e){r$1.set(t,e);}static has(t){return r$1.has(t)}static getCode(t,r=this.keycodes){return o$1(t,r)}}function o$1(t,r){return r.get(t)||""}

function e$1(e$1,n){return e.getCode(n)===e$1.key}function r$2(t,n,r){t.filter((t=>e$1(n,t))).length>0&&r();}

function r$3(t){t.preventDefault(),t.stopPropagation();}const o$2=(r,o,n)=>{r.hasAttribute(o)?n(r.getAttribute(o)):void 0!==r[o]&&n(r[o]),!r._valueTracker||"checked"!==o&&"value"!==o||(r._valueTracker=null);const c=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(r),o);return c&&!n$1()&&Object.defineProperty(r,o,{get:c.get,set:t=>{n(t),c.set.call(r,t);}}),m(r,o,(t=>n(t)))};

class l$1 extends s$1{constructor(){super(...arguments);this.readonly=!1,this.disabled=!1,this.focused=!1,this.active=!1,this.isAnchor=!1,this.explicitClick=!1,this.markerSignificantProperties=["type","name","value","disabled"];}render(){return x`<slot></slot>`}connectedCallback(){super.connectedCallback(),this.tabIndex=0,this.role="button";}updated(e){this.hasMarkerSignificantProperty(e)&&(this.markerAttached&&this.marker.remove(),this.createMarker()),super.updated(e),this.updateButtonAttributes(),this.addDefaultSubmitBehavior(),e.has("readonly")&&this.setupNativeButtonBehavior();}emulateActiveMouseDown(){this.disabled||this.readonly||(this.active=!0);}emulateActiveMouseUp(){this.active=!1,this.explicitClick=!0;}setupNativeButtonBehavior(){this.readonly?(this.removeEventListener("keyup",this.emulateActiveMouseUp),this.removeEventListener("keydown",this.emulateActiveMouseDown),this.removeEventListener("mouseup",this.emulateActiveMouseUp),this.removeEventListener("mousedown",this.emulateActiveMouseDown),this.removeEventListener("click",this.triggerNativeButtonBehavior),this.removeEventListener("keyup",this.emulateKeyBoardEventBehavior)):(this.addEventListener("keyup",this.emulateActiveMouseUp),this.addEventListener("keydown",this.emulateActiveMouseDown),this.addEventListener("mouseup",this.emulateActiveMouseUp),this.addEventListener("mousedown",this.emulateActiveMouseDown),this.addEventListener("click",this.triggerNativeButtonBehavior),this.addEventListener("keyup",this.emulateKeyBoardEventBehavior));}triggerNativeButtonBehavior(e){var t;this.readonly||(this.disabled?r$3(e):!e.defaultPrevented&&this.marker&&this.explicitClick&&(this.markerAttached||this.appendChild(this.marker),null===(t=this.querySelector("button[aria-hidden]"))||void 0===t||t.dispatchEvent(new MouseEvent("click",{relatedTarget:this,composed:!0})),"submit"!==this.type&&this.marker.remove())),this.explicitClick=!1;}createMarker(){const e=x`<button aria-hidden="true" role="presentation" ?disabled="${this.disabled}" tabindex="-1" style="display:none!important" value="${l(this.value)}" name="${l(this.name)}" type="${l(this.type)}"></button>`,t=document.createElement("div");t.style.display="none",B(e,t),this.marker=t;}get markerAttached(){return !(!this.marker||!this.marker.parentElement)}hasMarkerSignificantProperty(e){for(const t of this.markerSignificantProperties)if(e.has(t))return !0;return !1}emulateKeyBoardEventBehavior(e){r$2(["enter","space"],e,(()=>{this.readonly||(this.click(),r$3(e));}));}updateButtonAttributes(){var e;this.isAnchor="A"===(null===(e=this.parentElement)||void 0===e?void 0:e.tagName),this.isAnchor&&this.parentElement&&(this.parentElement.style.lineHeight="0",this.parentElement.style.textDecoration="none"),this.readonly=this.readonly||this.isAnchor,this.readonly?(this.role=null,this.tabIndexAttr=null,this.ariaDisabled=null):(this.role="button",this.tabIndexAttr=this.disabled?-1:0,this.ariaDisabled=this.disabled?"true":"false");}addDefaultSubmitBehavior(){!this.type&&this.closest("form")&&(this.type="submit"),"submit"!==this.type||this.markerAttached||this.appendChild(this.marker);}}__decorate([m$1({type:Boolean})],l$1.prototype,"readonly",void 0),__decorate([m$1({type:String})],l$1.prototype,"type",void 0),__decorate([m$1({type:String})],l$1.prototype,"name",void 0),__decorate([m$1({type:String})],l$1.prototype,"value",void 0),__decorate([m$1({type:Boolean})],l$1.prototype,"disabled",void 0),__decorate([p({type:Number,attribute:"tabindex",reflect:!0})],l$1.prototype,"tabIndexAttr",void 0),__decorate([p({type:Boolean,reflect:!0})],l$1.prototype,"focused",void 0),__decorate([p({type:Boolean,reflect:!0})],l$1.prototype,"active",void 0),__decorate([p({type:Boolean,reflect:!0})],l$1.prototype,"isAnchor",void 0),__decorate([o("cds-icon")],l$1.prototype,"icon",void 0),__decorate([o("cds-badge")],l$1.prototype,"badge",void 0);

export { o$2 as a, l$1 as l, o, s };
