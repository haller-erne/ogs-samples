{"version":3,"sources":["webpack:///node_modules/@bci-web-core/web-components/dist/esm/component-080a2a5e.js"],"names":["cssClasses","LIST_ITEM_ACTIVATED_CLASS","LIST_ITEM_CLASS","LIST_ITEM_DISABLED_CLASS","LIST_ITEM_SELECTED_CLASS","LIST_ITEM_TEXT_CLASS","LIST_ITEM_PRIMARY_TEXT_CLASS","ROOT","strings","ACTION_EVENT","ARIA_CHECKED","ARIA_CHECKED_CHECKBOX_SELECTOR","ARIA_CHECKED_RADIO_SELECTOR","ARIA_CURRENT","ARIA_DISABLED","ARIA_ORIENTATION","ARIA_ORIENTATION_HORIZONTAL","ARIA_ROLE_CHECKBOX_SELECTOR","ARIA_SELECTED","CHECKBOX_RADIO_SELECTOR","CHECKBOX_SELECTOR","CHILD_ELEMENTS_TO_TOGGLE_TABINDEX","FOCUSABLE_CHILD_ELEMENTS","RADIO_SELECTOR","numbers","UNSET_INDEX","TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS","KEY","UNKNOWN","BACKSPACE","ENTER","SPACEBAR","PAGE_UP","PAGE_DOWN","END","HOME","ARROW_LEFT","ARROW_UP","ARROW_RIGHT","ARROW_DOWN","DELETE","ESCAPE","normalizedKeys","Set","add","KEY_CODE","mappedKeyCodes","Map","set","navigationKeys","normalizeKey","evt","key","has","mappedKey","get","keyCode","ELEMENTS_KEY_ALLOWED_IN","preventDefaultEvent","target","tagName","toLowerCase","indexOf","preventDefault","initState","state","bufferClearTimeout","currentFirstChar","sortedIndexCursor","typeaheadBuffer","initSortedIndex","listItemCount","getPrimaryTextByItemIndex","sortedIndexByFirstChar","i","primaryText","trim","firstChar","push","text","index","forEach","values","sort","first","second","matchItem","opts","nextChar","focusItemAtIndex","focusedItemIndex","skipFocus","isItemAtIndexDisabled","clearTimeout","setTimeout","clearBuffer","length","matchFirstChar","matchAllChars","itemsMatchingFirstChar","newIndex","newCursorPosition","cursorPosition","startingItem","lastIndexOf","nextCursorPosition","currentItem","matches","isEnabled","isTypingInProgress","handleKeydown","event","isTargetListItem","isArrowLeft","isArrowUp","isArrowRight","isArrowDown","isHome","isEnd","isEnter","isSpace","isCharacterKey","matchItemOpts","typeaheadOnListItem","isNumberArray","selectedIndex","Array","MDCListFoundation","_super","adapter","_this","call","defaultAdapter","wrapFocus_","isVertical_","isSingleSelectionList_","selectedIndex_","useActivatedClass_","ariaCurrentAttrValue_","isCheckboxList_","isRadioList_","hasTypeahead","typeaheadState","Object","defineProperty","enumerable","configurable","addClassForElementIndex","undefined","getAttributeForElementIndex","getFocusedElementIndex","getListItemCount","hasCheckboxAtIndex","hasRadioAtIndex","isCheckboxCheckedAtIndex","isFocusInsideList","isRootFocused","listItemAtIndexHasClass","notifyAction","removeClassForElementIndex","setAttributeForElementIndex","setCheckedCheckboxOrRadioAtIndex","setTabIndexForListItemChildren","getPrimaryTextAtIndex","prototype","layout","typeaheadInitSortedIndex","setWrapFocus","value","setVerticalOrientation","setSingleSelection","setHasTypeahead","isTypeaheadInProgress","setUseActivatedClass","useActivated","getSelectedIndex","setSelectedIndex","isIndexValid_","setCheckboxAtIndex_","setRadioAtIndex_","setSingleSelectionAtIndex_","handleFocusIn","_","listItemIndex","handleFocusOut","setTabindexToFirstSelectedItem_","isRootListItem","focusLastElement","focusFirstElement","handleKeydownOpts","currentIndex","focusNextElement","focusPrevElement","isSelectableList_","setSelectedIndexOnAction_","handleClick","toggleCheckbox","setTabindexAtIndex_","count","nextIndex","prevIndex","lastIndex","setEnabled","itemIndex","selectedClassName","setAriaForSingleSelectionAtIndex_","isAriaCurrent","ariaAttribute","ariaAttributeValue","isChecked","targetIndex","reduce","minIndex","Math","min","Error","some","isIndexInRange_","listSize","toggleCheckboxAtIndex_","selectedIndexes","slice","filter","typeaheadMatchItem","startingIndex","clearTypeaheadBuffer","MDCList","apply","arguments","foundation","root","querySelectorAll","isSingleSelectionList","attachTo","initialSyncWithDOM","handleClick_","handleClickEvent_","bind","handleKeydown_","handleKeydownEvent_","focusInEventListener_","handleFocusInEvent_","focusOutEventListener_","handleFocusOutEvent_","listen","initializeListType","destroy","unlisten","direction","getAttribute","vertical","el","setAttribute","getPrimaryText","item","querySelector","textContent","singleLineText","checkboxListItems","singleSelectedListItem","radioSelectedListItem","preselectedItems","map","listItem","listElements","classList","contains","singleSelection","getDefaultFoundation","className","element","focus","attr","document","activeElement","toggleEl","checked","emit","remove","createEvent","initEvent","dispatchEvent","tabIndexValue","listItemChildren","getListItemIndex_","eventTarget","nearestParent","cssClasses$1","ANCHOR","ANIMATING_CLOSED","ANIMATING_OPEN","FIXED","IS_OPEN_BELOW","OPEN","strings$1","CLOSED_EVENT","OPENED_EVENT","FOCUSABLE_ELEMENTS","join","numbers$1","TRANSITION_OPEN_DURATION","TRANSITION_CLOSE_DURATION","MARGIN_TO_EDGE","ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO","CornerBit","Corner","MDCMenuSurfaceFoundation","isSurfaceOpen","isQuickOpen","isHoistedElement","isFixedPosition","openAnimationEndTimerId","closeAnimationEndTimerId","animationRequestId","anchorCorner","TOP_START","originCorner","anchorMargin","top","right","bottom","left","position","x","y","addClass","removeClass","hasClass","hasAnchor","isElementInContainer","isFocused","isRtl","getInnerDimensions","height","width","getAnchorDimensions","getWindowDimensions","getBodyDimensions","getWindowScroll","setPosition","setMaxHeight","setTransformOrigin","saveFocus","restoreFocus","notifyClose","notifyOpen","init","_a","cancelAnimationFrame","setAnchorCorner","corner","flipCornerHorizontally","RIGHT","setAnchorMargin","margin","setIsHoisted","isHoisted","setFixedPosition","setAbsolutePosition","isFinite","setQuickOpen","quickOpen","isOpen","open","dimensions","autoposition","requestAnimationFrame","close","skipRestoreFocus","maybeRestoreFocus","handleBodyClick","isEscape","measurements","getAutoLayoutmeasurements","getoriginCorner","maxMenuSurfaceHeight","getMenuSurfaceMaxHeight","verticalAlignment","hasBit","BOTTOM","horizontalAlignment","horizontalOffset","getHorizontalOriginOffset","verticalOffset","getVerticalOriginOffset","_b","anchorSize","surfaceSize","adjustPositionForHoistedElement","anchorRect","bodySize","viewportSize","windowScroll","viewportDistance","isAnchoredToBottom","availableTop","availableBottom","isAvailableBottom","setBit","isFlipRtl","FLIP_RTL","hasRightBit","isAnchoredToRight","availableLeft","availableRight","isAvailableLeft","isAvailableRight","isOriginCornerAlignedToEnd","unsetBit","maxHeight","isBottomAligned","isBottomAnchored","isRightAligned","avoidHorizontalOverlap","rightOffset","avoidVerticalOverlap","e_1","props","keys","props_1","props_1_1","next","done","prop","e_1_1","error","childHasFocus","bit","Boolean","num","cachedCssTransformPropertyName_","getTransformPropertyName","globalObj","forceRefresh","createElement","style","MDCMenuSurface","parentEl","parentElement","anchorElement","registerBodyClickListener","body","addEventListener","capture","deregisterBodyClickListener","removeEventListener","setMenuSurfaceAnchorElement","isFixed","getComputedStyle","getPropertyValue","origin","propertyName","window","setProperty","previousFocus","offsetWidth","offsetHeight","getBoundingClientRect","innerWidth","innerHeight","clientWidth","clientHeight","pageXOffset","pageYOffset","rootHTML","cssClasses$2","MENU_SELECTED_LIST_ITEM","MENU_SELECTION_GROUP","strings$2","ARIA_CHECKED_ATTR","ARIA_DISABLED_ATTR","LIST_SELECTOR","SELECTED_EVENT","numbers$2","FOCUS_ROOT_INDEX","DefaultFocusState","MDCMenuFoundation","closeAnimationEndTimerId_","defaultFocusState_","LIST_ROOT","addClassToElementAtIndex","removeClassFromElementAtIndex","addAttributeToElementAtIndex","removeAttributeFromElementAtIndex","elementContainsClass","closeSurface","getElementIndex","notifySelected","getMenuItemCount","focusListRoot","getSelectedSiblingOfItemAtIndex","isSelectableItemAtIndex","isTab","handleItemAction","recomputedIndex","handleMenuSurfaceOpened","FIRST_ITEM","LAST_ITEM","NONE","setDefaultFocusState","focusState","validatedIndex_","prevSelectedIndex","menuSize","isIndexInRange","MDCMenu","initialize","menuSurfaceFactory","listFactory","menuSurfaceFactory_","listFactory_","menuSurface_","list","list_","wrapFocus","handleItemAction_","items","detail","handleMenuSurfaceOpened_","typeaheadInProgress","getOptionByIndex","setAnchorElement","removeAttribute","evtData","selectionGroupEl","selectedItemEl"],"mappings":"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","file":"2-es5.js","sourcesContent":["/* Copyright (C) 2020. Robert Bosch GmbH Copyright (C) 2020. Robert Bosch Manufacturing Solutions GmbH, Germany. All rights reserved. */\r\nimport { _ as __extends, a as __assign, M as MDCFoundation, c as closest, m as matches, b as MDCComponent, d as __values } from './ponyfill-599745e7.js';\n\n/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar cssClasses = {\n    LIST_ITEM_ACTIVATED_CLASS: 'mdc-list-item--activated',\n    LIST_ITEM_CLASS: 'mdc-list-item',\n    LIST_ITEM_DISABLED_CLASS: 'mdc-list-item--disabled',\n    LIST_ITEM_SELECTED_CLASS: 'mdc-list-item--selected',\n    LIST_ITEM_TEXT_CLASS: 'mdc-list-item__text',\n    LIST_ITEM_PRIMARY_TEXT_CLASS: 'mdc-list-item__primary-text',\n    ROOT: 'mdc-list',\n};\nvar strings = {\n    ACTION_EVENT: 'MDCList:action',\n    ARIA_CHECKED: 'aria-checked',\n    ARIA_CHECKED_CHECKBOX_SELECTOR: '[role=\"checkbox\"][aria-checked=\"true\"]',\n    ARIA_CHECKED_RADIO_SELECTOR: '[role=\"radio\"][aria-checked=\"true\"]',\n    ARIA_CURRENT: 'aria-current',\n    ARIA_DISABLED: 'aria-disabled',\n    ARIA_ORIENTATION: 'aria-orientation',\n    ARIA_ORIENTATION_HORIZONTAL: 'horizontal',\n    ARIA_ROLE_CHECKBOX_SELECTOR: '[role=\"checkbox\"]',\n    ARIA_SELECTED: 'aria-selected',\n    CHECKBOX_RADIO_SELECTOR: 'input[type=\"checkbox\"], input[type=\"radio\"]',\n    CHECKBOX_SELECTOR: 'input[type=\"checkbox\"]',\n    CHILD_ELEMENTS_TO_TOGGLE_TABINDEX: \"\\n    .\" + cssClasses.LIST_ITEM_CLASS + \" button:not(:disabled),\\n    .\" + cssClasses.LIST_ITEM_CLASS + \" a\\n  \",\n    FOCUSABLE_CHILD_ELEMENTS: \"\\n    .\" + cssClasses.LIST_ITEM_CLASS + \" button:not(:disabled),\\n    .\" + cssClasses.LIST_ITEM_CLASS + \" a,\\n    .\" + cssClasses.LIST_ITEM_CLASS + \" input[type=\\\"radio\\\"]:not(:disabled),\\n    .\" + cssClasses.LIST_ITEM_CLASS + \" input[type=\\\"checkbox\\\"]:not(:disabled)\\n  \",\n    RADIO_SELECTOR: 'input[type=\"radio\"]',\n};\nvar numbers = {\n    UNSET_INDEX: -1,\n    TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS: 300\n};\n\n/**\n * @license\n * Copyright 2020 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n/**\n * KEY provides normalized string values for keys.\n */\nvar KEY = {\n    UNKNOWN: 'Unknown',\n    BACKSPACE: 'Backspace',\n    ENTER: 'Enter',\n    SPACEBAR: 'Spacebar',\n    PAGE_UP: 'PageUp',\n    PAGE_DOWN: 'PageDown',\n    END: 'End',\n    HOME: 'Home',\n    ARROW_LEFT: 'ArrowLeft',\n    ARROW_UP: 'ArrowUp',\n    ARROW_RIGHT: 'ArrowRight',\n    ARROW_DOWN: 'ArrowDown',\n    DELETE: 'Delete',\n    ESCAPE: 'Escape',\n};\nvar normalizedKeys = new Set();\n// IE11 has no support for new Map with iterable so we need to initialize this\n// by hand.\nnormalizedKeys.add(KEY.BACKSPACE);\nnormalizedKeys.add(KEY.ENTER);\nnormalizedKeys.add(KEY.SPACEBAR);\nnormalizedKeys.add(KEY.PAGE_UP);\nnormalizedKeys.add(KEY.PAGE_DOWN);\nnormalizedKeys.add(KEY.END);\nnormalizedKeys.add(KEY.HOME);\nnormalizedKeys.add(KEY.ARROW_LEFT);\nnormalizedKeys.add(KEY.ARROW_UP);\nnormalizedKeys.add(KEY.ARROW_RIGHT);\nnormalizedKeys.add(KEY.ARROW_DOWN);\nnormalizedKeys.add(KEY.DELETE);\nnormalizedKeys.add(KEY.ESCAPE);\nvar KEY_CODE = {\n    BACKSPACE: 8,\n    ENTER: 13,\n    SPACEBAR: 32,\n    PAGE_UP: 33,\n    PAGE_DOWN: 34,\n    END: 35,\n    HOME: 36,\n    ARROW_LEFT: 37,\n    ARROW_UP: 38,\n    ARROW_RIGHT: 39,\n    ARROW_DOWN: 40,\n    DELETE: 46,\n    ESCAPE: 27,\n};\nvar mappedKeyCodes = new Map();\n// IE11 has no support for new Map with iterable so we need to initialize this\n// by hand.\nmappedKeyCodes.set(KEY_CODE.BACKSPACE, KEY.BACKSPACE);\nmappedKeyCodes.set(KEY_CODE.ENTER, KEY.ENTER);\nmappedKeyCodes.set(KEY_CODE.SPACEBAR, KEY.SPACEBAR);\nmappedKeyCodes.set(KEY_CODE.PAGE_UP, KEY.PAGE_UP);\nmappedKeyCodes.set(KEY_CODE.PAGE_DOWN, KEY.PAGE_DOWN);\nmappedKeyCodes.set(KEY_CODE.END, KEY.END);\nmappedKeyCodes.set(KEY_CODE.HOME, KEY.HOME);\nmappedKeyCodes.set(KEY_CODE.ARROW_LEFT, KEY.ARROW_LEFT);\nmappedKeyCodes.set(KEY_CODE.ARROW_UP, KEY.ARROW_UP);\nmappedKeyCodes.set(KEY_CODE.ARROW_RIGHT, KEY.ARROW_RIGHT);\nmappedKeyCodes.set(KEY_CODE.ARROW_DOWN, KEY.ARROW_DOWN);\nmappedKeyCodes.set(KEY_CODE.DELETE, KEY.DELETE);\nmappedKeyCodes.set(KEY_CODE.ESCAPE, KEY.ESCAPE);\nvar navigationKeys = new Set();\n// IE11 has no support for new Set with iterable so we need to initialize this\n// by hand.\nnavigationKeys.add(KEY.PAGE_UP);\nnavigationKeys.add(KEY.PAGE_DOWN);\nnavigationKeys.add(KEY.END);\nnavigationKeys.add(KEY.HOME);\nnavigationKeys.add(KEY.ARROW_LEFT);\nnavigationKeys.add(KEY.ARROW_UP);\nnavigationKeys.add(KEY.ARROW_RIGHT);\nnavigationKeys.add(KEY.ARROW_DOWN);\n/**\n * normalizeKey returns the normalized string for a navigational action.\n */\nfunction normalizeKey(evt) {\n    var key = evt.key;\n    // If the event already has a normalized key, return it\n    if (normalizedKeys.has(key)) {\n        return key;\n    }\n    // tslint:disable-next-line:deprecation\n    var mappedKey = mappedKeyCodes.get(evt.keyCode);\n    if (mappedKey) {\n        return mappedKey;\n    }\n    return KEY.UNKNOWN;\n}\n\n/**\n * @license\n * Copyright 2020 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar ELEMENTS_KEY_ALLOWED_IN = ['input', 'button', 'textarea', 'select'];\n/**\n * Ensures that preventDefault is only called if the containing element\n * doesn't consume the event, and it will cause an unintended scroll.\n *\n * @param evt keyboard event to be prevented.\n */\nvar preventDefaultEvent = function (evt) {\n    var target = evt.target;\n    if (!target) {\n        return;\n    }\n    var tagName = (\"\" + target.tagName).toLowerCase();\n    if (ELEMENTS_KEY_ALLOWED_IN.indexOf(tagName) === -1) {\n        evt.preventDefault();\n    }\n};\n\n/**\n * @license\n * Copyright 2020 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n/**\n * Initializes a state object for typeahead. Use the same reference for calls to\n * typeahead functions.\n *\n * @return The current state of the typeahead process. Each state reference\n *     represents a typeahead instance as the reference is typically mutated\n *     in-place.\n */\nfunction initState() {\n    var state = {\n        bufferClearTimeout: 0,\n        currentFirstChar: '',\n        sortedIndexCursor: 0,\n        typeaheadBuffer: '',\n    };\n    return state;\n}\n/**\n * Initializes typeahead state by indexing the current list items by primary\n * text into the sortedIndexByFirstChar data structure.\n *\n * @param listItemCount numer of items in the list\n * @param getPrimaryTextByItemIndex function that returns the primary text at a\n *     given index\n *\n * @return Map that maps the first character of the primary text to the full\n *     list text and it's index\n */\nfunction initSortedIndex(listItemCount, getPrimaryTextByItemIndex) {\n    var sortedIndexByFirstChar = new Map();\n    // Aggregate item text to index mapping\n    for (var i = 0; i < listItemCount; i++) {\n        var primaryText = getPrimaryTextByItemIndex(i).trim();\n        if (!primaryText) {\n            continue;\n        }\n        var firstChar = primaryText[0].toLowerCase();\n        if (!sortedIndexByFirstChar.has(firstChar)) {\n            sortedIndexByFirstChar.set(firstChar, []);\n        }\n        sortedIndexByFirstChar.get(firstChar).push({ text: primaryText.toLowerCase(), index: i });\n    }\n    // Sort the mapping\n    // TODO(b/157162694): Investigate replacing forEach with Map.values()\n    sortedIndexByFirstChar.forEach(function (values) {\n        values.sort(function (first, second) {\n            return first.index - second.index;\n        });\n    });\n    return sortedIndexByFirstChar;\n}\n/**\n * Given the next desired character from the user, it attempts to find the next\n * list option matching the buffer. Wraps around if at the end of options.\n *\n * @param opts Options and accessors\n *   - nextChar - the next character to match against items\n *   - sortedIndexByFirstChar - output of `initSortedIndex(...)`\n *   - focusedItemIndex - the index of the currently focused item\n *   - focusItemAtIndex - function that focuses a list item at given index\n *   - skipFocus - whether or not to focus the matched item\n *   - isItemAtIndexDisabled - function that determines whether an item at a\n *        given index is disabled\n * @param state The typeahead state instance. See `initState`.\n *\n * @return The index of the matched item, or -1 if no match.\n */\nfunction matchItem(opts, state) {\n    var nextChar = opts.nextChar, focusItemAtIndex = opts.focusItemAtIndex, sortedIndexByFirstChar = opts.sortedIndexByFirstChar, focusedItemIndex = opts.focusedItemIndex, skipFocus = opts.skipFocus, isItemAtIndexDisabled = opts.isItemAtIndexDisabled;\n    clearTimeout(state.bufferClearTimeout);\n    state.bufferClearTimeout = setTimeout(function () {\n        clearBuffer(state);\n    }, numbers.TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS);\n    state.typeaheadBuffer = state.typeaheadBuffer + nextChar;\n    var index;\n    if (state.typeaheadBuffer.length === 1) {\n        index = matchFirstChar(sortedIndexByFirstChar, focusedItemIndex, isItemAtIndexDisabled, state);\n    }\n    else {\n        index = matchAllChars(sortedIndexByFirstChar, isItemAtIndexDisabled, state);\n    }\n    if (index !== -1 && !skipFocus) {\n        focusItemAtIndex(index);\n    }\n    return index;\n}\n/**\n * Matches the user's single input character in the buffer to the\n * next option that begins with such character. Wraps around if at\n * end of options. Returns -1 if no match is found.\n */\nfunction matchFirstChar(sortedIndexByFirstChar, focusedItemIndex, isItemAtIndexDisabled, state) {\n    var firstChar = state.typeaheadBuffer[0];\n    var itemsMatchingFirstChar = sortedIndexByFirstChar.get(firstChar);\n    if (!itemsMatchingFirstChar) {\n        return -1;\n    }\n    // Has the same firstChar been recently matched?\n    // Also, did starting index remain the same between key presses?\n    // If both hold true, simply increment index.\n    if (firstChar === state.currentFirstChar &&\n        itemsMatchingFirstChar[state.sortedIndexCursor].index ===\n            focusedItemIndex) {\n        state.sortedIndexCursor =\n            (state.sortedIndexCursor + 1) % itemsMatchingFirstChar.length;\n        var newIndex = itemsMatchingFirstChar[state.sortedIndexCursor].index;\n        if (!isItemAtIndexDisabled(newIndex)) {\n            return newIndex;\n        }\n    }\n    // If we're here, it means one of the following happened:\n    // - either firstChar or startingIndex has changed, invalidating the\n    // cursor.\n    // - The next item of typeahead is disabled, so we have to look further.\n    state.currentFirstChar = firstChar;\n    var newCursorPosition = -1;\n    var cursorPosition;\n    // Find the first non-disabled item as a fallback.\n    for (cursorPosition = 0; cursorPosition < itemsMatchingFirstChar.length; cursorPosition++) {\n        if (!isItemAtIndexDisabled(itemsMatchingFirstChar[cursorPosition].index)) {\n            newCursorPosition = cursorPosition;\n            break;\n        }\n    }\n    // Advance cursor to first item matching the firstChar that is positioned\n    // after starting item. Cursor is unchanged from fallback if there's no\n    // such item.\n    for (; cursorPosition < itemsMatchingFirstChar.length; cursorPosition++) {\n        if (itemsMatchingFirstChar[cursorPosition].index > focusedItemIndex &&\n            !isItemAtIndexDisabled(itemsMatchingFirstChar[cursorPosition].index)) {\n            newCursorPosition = cursorPosition;\n            break;\n        }\n    }\n    if (newCursorPosition !== -1) {\n        state.sortedIndexCursor = newCursorPosition;\n        return itemsMatchingFirstChar[state.sortedIndexCursor].index;\n    }\n    return -1;\n}\n/**\n * Attempts to find the next item that matches all of the typeahead buffer.\n * Wraps around if at end of options. Returns -1 if no match is found.\n */\nfunction matchAllChars(sortedIndexByFirstChar, isItemAtIndexDisabled, state) {\n    var firstChar = state.typeaheadBuffer[0];\n    var itemsMatchingFirstChar = sortedIndexByFirstChar.get(firstChar);\n    if (!itemsMatchingFirstChar) {\n        return -1;\n    }\n    // Do nothing if text already matches\n    var startingItem = itemsMatchingFirstChar[state.sortedIndexCursor];\n    if (startingItem.text.lastIndexOf(state.typeaheadBuffer, 0) === 0 &&\n        !isItemAtIndexDisabled(startingItem.index)) {\n        return startingItem.index;\n    }\n    // Find next item that matches completely; if no match, we'll eventually\n    // loop around to same position\n    var cursorPosition = (state.sortedIndexCursor + 1) % itemsMatchingFirstChar.length;\n    var nextCursorPosition = -1;\n    while (cursorPosition !== state.sortedIndexCursor) {\n        var currentItem = itemsMatchingFirstChar[cursorPosition];\n        var matches = currentItem.text.lastIndexOf(state.typeaheadBuffer, 0) === 0;\n        var isEnabled = !isItemAtIndexDisabled(currentItem.index);\n        if (matches && isEnabled) {\n            nextCursorPosition = cursorPosition;\n            break;\n        }\n        cursorPosition = (cursorPosition + 1) % itemsMatchingFirstChar.length;\n    }\n    if (nextCursorPosition !== -1) {\n        state.sortedIndexCursor = nextCursorPosition;\n        return itemsMatchingFirstChar[state.sortedIndexCursor].index;\n    }\n    return -1;\n}\n/**\n * Whether or not the given typeahead instaance state is currently typing.\n *\n * @param state The typeahead state instance. See `initState`.\n */\nfunction isTypingInProgress(state) {\n    return state.typeaheadBuffer.length > 0;\n}\n/**\n * Clears the typeahaed buffer so that it resets item matching to the first\n * character.\n *\n * @param state The typeahead state instance. See `initState`.\n */\nfunction clearBuffer(state) {\n    state.typeaheadBuffer = '';\n}\n/**\n * Given a keydown event, it calculates whether or not to automatically focus a\n * list item depending on what was typed mimicing the typeahead functionality of\n * a standard <select> element that is open.\n *\n * @param opts Options and accessors\n *   - event - the KeyboardEvent to handle and parse\n *   - sortedIndexByFirstChar - output of `initSortedIndex(...)`\n *   - focusedItemIndex - the index of the currently focused item\n *   - focusItemAtIndex - function that focuses a list item at given index\n *   - isItemAtFocusedIndexDisabled - whether or not the currently focused item\n *      is disabled\n *   - isTargetListItem - whether or not the event target is a list item\n * @param state The typeahead state instance. See `initState`.\n *\n * @returns index of the item matched by the keydown. -1 if not matched.\n */\nfunction handleKeydown(opts, state) {\n    var event = opts.event, isTargetListItem = opts.isTargetListItem, focusedItemIndex = opts.focusedItemIndex, focusItemAtIndex = opts.focusItemAtIndex, sortedIndexByFirstChar = opts.sortedIndexByFirstChar, isItemAtIndexDisabled = opts.isItemAtIndexDisabled;\n    var isArrowLeft = normalizeKey(event) === 'ArrowLeft';\n    var isArrowUp = normalizeKey(event) === 'ArrowUp';\n    var isArrowRight = normalizeKey(event) === 'ArrowRight';\n    var isArrowDown = normalizeKey(event) === 'ArrowDown';\n    var isHome = normalizeKey(event) === 'Home';\n    var isEnd = normalizeKey(event) === 'End';\n    var isEnter = normalizeKey(event) === 'Enter';\n    var isSpace = normalizeKey(event) === 'Spacebar';\n    if (isArrowLeft || isArrowUp || isArrowRight || isArrowDown || isHome ||\n        isEnd || isEnter) {\n        return -1;\n    }\n    var isCharacterKey = !isSpace && event.key.length === 1;\n    if (isCharacterKey) {\n        preventDefaultEvent(event);\n        var matchItemOpts = {\n            focusItemAtIndex: focusItemAtIndex,\n            focusedItemIndex: focusedItemIndex,\n            nextChar: event.key.toLowerCase(),\n            sortedIndexByFirstChar: sortedIndexByFirstChar,\n            skipFocus: false,\n            isItemAtIndexDisabled: isItemAtIndexDisabled,\n        };\n        return matchItem(matchItemOpts, state);\n    }\n    if (!isSpace) {\n        return -1;\n    }\n    if (isTargetListItem) {\n        preventDefaultEvent(event);\n    }\n    var typeaheadOnListItem = isTargetListItem && isTypingInProgress(state);\n    if (typeaheadOnListItem) {\n        var matchItemOpts = {\n            focusItemAtIndex: focusItemAtIndex,\n            focusedItemIndex: focusedItemIndex,\n            nextChar: ' ',\n            sortedIndexByFirstChar: sortedIndexByFirstChar,\n            skipFocus: false,\n            isItemAtIndexDisabled: isItemAtIndexDisabled,\n        };\n        // space participates in typeahead matching if in rapid typing mode\n        return matchItem(matchItemOpts, state);\n    }\n    return -1;\n}\n\n/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nfunction isNumberArray(selectedIndex) {\n    return selectedIndex instanceof Array;\n}\nvar MDCListFoundation = /** @class */ (function (_super) {\n    __extends(MDCListFoundation, _super);\n    function MDCListFoundation(adapter) {\n        var _this = _super.call(this, __assign(__assign({}, MDCListFoundation.defaultAdapter), adapter)) || this;\n        _this.wrapFocus_ = false;\n        _this.isVertical_ = true;\n        _this.isSingleSelectionList_ = false;\n        _this.selectedIndex_ = numbers.UNSET_INDEX;\n        _this.focusedItemIndex = numbers.UNSET_INDEX;\n        _this.useActivatedClass_ = false;\n        _this.ariaCurrentAttrValue_ = null;\n        _this.isCheckboxList_ = false;\n        _this.isRadioList_ = false;\n        _this.hasTypeahead = false;\n        // Transiently holds current typeahead prefix from user.\n        _this.typeaheadState = initState();\n        _this.sortedIndexByFirstChar = new Map();\n        return _this;\n    }\n    Object.defineProperty(MDCListFoundation, \"strings\", {\n        get: function () {\n            return strings;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCListFoundation, \"cssClasses\", {\n        get: function () {\n            return cssClasses;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCListFoundation, \"numbers\", {\n        get: function () {\n            return numbers;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCListFoundation, \"defaultAdapter\", {\n        get: function () {\n            return {\n                addClassForElementIndex: function () { return undefined; },\n                focusItemAtIndex: function () { return undefined; },\n                getAttributeForElementIndex: function () { return null; },\n                getFocusedElementIndex: function () { return 0; },\n                getListItemCount: function () { return 0; },\n                hasCheckboxAtIndex: function () { return false; },\n                hasRadioAtIndex: function () { return false; },\n                isCheckboxCheckedAtIndex: function () { return false; },\n                isFocusInsideList: function () { return false; },\n                isRootFocused: function () { return false; },\n                listItemAtIndexHasClass: function () { return false; },\n                notifyAction: function () { return undefined; },\n                removeClassForElementIndex: function () { return undefined; },\n                setAttributeForElementIndex: function () { return undefined; },\n                setCheckedCheckboxOrRadioAtIndex: function () { return undefined; },\n                setTabIndexForListItemChildren: function () { return undefined; },\n                getPrimaryTextAtIndex: function () { return ''; },\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MDCListFoundation.prototype.layout = function () {\n        if (this.adapter.getListItemCount() === 0) {\n            return;\n        }\n        if (this.adapter.hasCheckboxAtIndex(0)) {\n            this.isCheckboxList_ = true;\n        }\n        else if (this.adapter.hasRadioAtIndex(0)) {\n            this.isRadioList_ = true;\n        }\n        if (this.hasTypeahead) {\n            this.sortedIndexByFirstChar = this.typeaheadInitSortedIndex();\n        }\n    };\n    /**\n     * Sets the private wrapFocus_ variable.\n     */\n    MDCListFoundation.prototype.setWrapFocus = function (value) {\n        this.wrapFocus_ = value;\n    };\n    /**\n     * Sets the isVertical_ private variable.\n     */\n    MDCListFoundation.prototype.setVerticalOrientation = function (value) {\n        this.isVertical_ = value;\n    };\n    /**\n     * Sets the isSingleSelectionList_ private variable.\n     */\n    MDCListFoundation.prototype.setSingleSelection = function (value) {\n        this.isSingleSelectionList_ = value;\n    };\n    /**\n     * Sets whether typeahead is enabled on the list.\n     * @param hasTypeahead Whether typeahead is enabled.\n     */\n    MDCListFoundation.prototype.setHasTypeahead = function (hasTypeahead) {\n        this.hasTypeahead = hasTypeahead;\n        if (hasTypeahead) {\n            this.sortedIndexByFirstChar = this.typeaheadInitSortedIndex();\n        }\n    };\n    /**\n     * @return Whether typeahead is currently matching a user-specified prefix.\n     */\n    MDCListFoundation.prototype.isTypeaheadInProgress = function () {\n        return this.hasTypeahead &&\n            isTypingInProgress(this.typeaheadState);\n    };\n    /**\n     * Sets the useActivatedClass_ private variable.\n     */\n    MDCListFoundation.prototype.setUseActivatedClass = function (useActivated) {\n        this.useActivatedClass_ = useActivated;\n    };\n    MDCListFoundation.prototype.getSelectedIndex = function () {\n        return this.selectedIndex_;\n    };\n    MDCListFoundation.prototype.setSelectedIndex = function (index) {\n        if (!this.isIndexValid_(index)) {\n            return;\n        }\n        if (this.isCheckboxList_) {\n            this.setCheckboxAtIndex_(index);\n        }\n        else if (this.isRadioList_) {\n            this.setRadioAtIndex_(index);\n        }\n        else {\n            this.setSingleSelectionAtIndex_(index);\n        }\n    };\n    /**\n     * Focus in handler for the list items.\n     */\n    MDCListFoundation.prototype.handleFocusIn = function (_, listItemIndex) {\n        if (listItemIndex >= 0) {\n            this.focusedItemIndex = listItemIndex;\n            this.adapter.setTabIndexForListItemChildren(listItemIndex, '0');\n        }\n    };\n    /**\n     * Focus out handler for the list items.\n     */\n    MDCListFoundation.prototype.handleFocusOut = function (_, listItemIndex) {\n        var _this = this;\n        if (listItemIndex >= 0) {\n            this.adapter.setTabIndexForListItemChildren(listItemIndex, '-1');\n        }\n        /**\n         * Between Focusout & Focusin some browsers do not have focus on any element. Setting a delay to wait till the focus\n         * is moved to next element.\n         */\n        setTimeout(function () {\n            if (!_this.adapter.isFocusInsideList()) {\n                _this.setTabindexToFirstSelectedItem_();\n            }\n        }, 0);\n    };\n    /**\n     * Key handler for the list.\n     */\n    MDCListFoundation.prototype.handleKeydown = function (event, isRootListItem, listItemIndex) {\n        var _this = this;\n        var isArrowLeft = normalizeKey(event) === 'ArrowLeft';\n        var isArrowUp = normalizeKey(event) === 'ArrowUp';\n        var isArrowRight = normalizeKey(event) === 'ArrowRight';\n        var isArrowDown = normalizeKey(event) === 'ArrowDown';\n        var isHome = normalizeKey(event) === 'Home';\n        var isEnd = normalizeKey(event) === 'End';\n        var isEnter = normalizeKey(event) === 'Enter';\n        var isSpace = normalizeKey(event) === 'Spacebar';\n        if (this.adapter.isRootFocused()) {\n            if (isArrowUp || isEnd) {\n                event.preventDefault();\n                this.focusLastElement();\n            }\n            else if (isArrowDown || isHome) {\n                event.preventDefault();\n                this.focusFirstElement();\n            }\n            if (this.hasTypeahead) {\n                var handleKeydownOpts = {\n                    event: event,\n                    focusItemAtIndex: function (index) {\n                        _this.focusItemAtIndex(index);\n                    },\n                    focusedItemIndex: -1,\n                    isTargetListItem: isRootListItem,\n                    sortedIndexByFirstChar: this.sortedIndexByFirstChar,\n                    isItemAtIndexDisabled: function (index) {\n                        return _this.adapter.listItemAtIndexHasClass(index, cssClasses.LIST_ITEM_DISABLED_CLASS);\n                    },\n                };\n                handleKeydown(handleKeydownOpts, this.typeaheadState);\n            }\n            return;\n        }\n        var currentIndex = this.adapter.getFocusedElementIndex();\n        if (currentIndex === -1) {\n            currentIndex = listItemIndex;\n            if (currentIndex < 0) {\n                // If this event doesn't have a mdc-list-item ancestor from the\n                // current list (not from a sublist), return early.\n                return;\n            }\n        }\n        if ((this.isVertical_ && isArrowDown) || (!this.isVertical_ && isArrowRight)) {\n            preventDefaultEvent(event);\n            this.focusNextElement(currentIndex);\n        }\n        else if ((this.isVertical_ && isArrowUp) || (!this.isVertical_ && isArrowLeft)) {\n            preventDefaultEvent(event);\n            this.focusPrevElement(currentIndex);\n        }\n        else if (isHome) {\n            preventDefaultEvent(event);\n            this.focusFirstElement();\n        }\n        else if (isEnd) {\n            preventDefaultEvent(event);\n            this.focusLastElement();\n        }\n        else if (isEnter || isSpace) {\n            if (isRootListItem) {\n                // Return early if enter key is pressed on anchor element which triggers synthetic MouseEvent event.\n                var target = event.target;\n                if (target && target.tagName === 'A' && isEnter) {\n                    return;\n                }\n                preventDefaultEvent(event);\n                if (this.adapter.listItemAtIndexHasClass(currentIndex, cssClasses.LIST_ITEM_DISABLED_CLASS)) {\n                    return;\n                }\n                if (!this.isTypeaheadInProgress()) {\n                    if (this.isSelectableList_()) {\n                        this.setSelectedIndexOnAction_(currentIndex);\n                    }\n                    this.adapter.notifyAction(currentIndex);\n                }\n            }\n        }\n        if (this.hasTypeahead) {\n            var handleKeydownOpts = {\n                event: event,\n                focusItemAtIndex: function (index) {\n                    _this.focusItemAtIndex(index);\n                },\n                focusedItemIndex: this.focusedItemIndex,\n                isTargetListItem: isRootListItem,\n                sortedIndexByFirstChar: this.sortedIndexByFirstChar,\n                isItemAtIndexDisabled: function (index) { return _this.adapter.listItemAtIndexHasClass(index, cssClasses.LIST_ITEM_DISABLED_CLASS); },\n            };\n            handleKeydown(handleKeydownOpts, this.typeaheadState);\n        }\n    };\n    /**\n     * Click handler for the list.\n     */\n    MDCListFoundation.prototype.handleClick = function (index, toggleCheckbox) {\n        if (index === numbers.UNSET_INDEX) {\n            return;\n        }\n        this.setTabindexAtIndex_(index);\n        this.focusedItemIndex = index;\n        if (this.adapter.listItemAtIndexHasClass(index, cssClasses.LIST_ITEM_DISABLED_CLASS)) {\n            return;\n        }\n        if (this.isSelectableList_()) {\n            this.setSelectedIndexOnAction_(index, toggleCheckbox);\n        }\n        this.adapter.notifyAction(index);\n    };\n    /**\n     * Focuses the next element on the list.\n     */\n    MDCListFoundation.prototype.focusNextElement = function (index) {\n        var count = this.adapter.getListItemCount();\n        var nextIndex = index + 1;\n        if (nextIndex >= count) {\n            if (this.wrapFocus_) {\n                nextIndex = 0;\n            }\n            else {\n                // Return early because last item is already focused.\n                return index;\n            }\n        }\n        this.focusItemAtIndex(nextIndex);\n        return nextIndex;\n    };\n    /**\n     * Focuses the previous element on the list.\n     */\n    MDCListFoundation.prototype.focusPrevElement = function (index) {\n        var prevIndex = index - 1;\n        if (prevIndex < 0) {\n            if (this.wrapFocus_) {\n                prevIndex = this.adapter.getListItemCount() - 1;\n            }\n            else {\n                // Return early because first item is already focused.\n                return index;\n            }\n        }\n        this.focusItemAtIndex(prevIndex);\n        return prevIndex;\n    };\n    MDCListFoundation.prototype.focusFirstElement = function () {\n        this.focusItemAtIndex(0);\n        return 0;\n    };\n    MDCListFoundation.prototype.focusLastElement = function () {\n        var lastIndex = this.adapter.getListItemCount() - 1;\n        this.focusItemAtIndex(lastIndex);\n        return lastIndex;\n    };\n    /**\n     * @param itemIndex Index of the list item\n     * @param isEnabled Sets the list item to enabled or disabled.\n     */\n    MDCListFoundation.prototype.setEnabled = function (itemIndex, isEnabled) {\n        if (!this.isIndexValid_(itemIndex)) {\n            return;\n        }\n        if (isEnabled) {\n            this.adapter.removeClassForElementIndex(itemIndex, cssClasses.LIST_ITEM_DISABLED_CLASS);\n            this.adapter.setAttributeForElementIndex(itemIndex, strings.ARIA_DISABLED, 'false');\n        }\n        else {\n            this.adapter.addClassForElementIndex(itemIndex, cssClasses.LIST_ITEM_DISABLED_CLASS);\n            this.adapter.setAttributeForElementIndex(itemIndex, strings.ARIA_DISABLED, 'true');\n        }\n    };\n    MDCListFoundation.prototype.setSingleSelectionAtIndex_ = function (index) {\n        if (this.selectedIndex_ === index) {\n            return;\n        }\n        var selectedClassName = cssClasses.LIST_ITEM_SELECTED_CLASS;\n        if (this.useActivatedClass_) {\n            selectedClassName = cssClasses.LIST_ITEM_ACTIVATED_CLASS;\n        }\n        if (this.selectedIndex_ !== numbers.UNSET_INDEX) {\n            this.adapter.removeClassForElementIndex(this.selectedIndex_, selectedClassName);\n        }\n        this.adapter.addClassForElementIndex(index, selectedClassName);\n        this.setAriaForSingleSelectionAtIndex_(index);\n        this.selectedIndex_ = index;\n    };\n    /**\n     * Sets aria attribute for single selection at given index.\n     */\n    MDCListFoundation.prototype.setAriaForSingleSelectionAtIndex_ = function (index) {\n        // Detect the presence of aria-current and get the value only during list initialization when it is in unset state.\n        if (this.selectedIndex_ === numbers.UNSET_INDEX) {\n            this.ariaCurrentAttrValue_ =\n                this.adapter.getAttributeForElementIndex(index, strings.ARIA_CURRENT);\n        }\n        var isAriaCurrent = this.ariaCurrentAttrValue_ !== null;\n        var ariaAttribute = isAriaCurrent ? strings.ARIA_CURRENT : strings.ARIA_SELECTED;\n        if (this.selectedIndex_ !== numbers.UNSET_INDEX) {\n            this.adapter.setAttributeForElementIndex(this.selectedIndex_, ariaAttribute, 'false');\n        }\n        var ariaAttributeValue = isAriaCurrent ? this.ariaCurrentAttrValue_ : 'true';\n        this.adapter.setAttributeForElementIndex(index, ariaAttribute, ariaAttributeValue);\n    };\n    /**\n     * Toggles radio at give index. Radio doesn't change the checked state if it is already checked.\n     */\n    MDCListFoundation.prototype.setRadioAtIndex_ = function (index) {\n        this.adapter.setCheckedCheckboxOrRadioAtIndex(index, true);\n        if (this.selectedIndex_ !== numbers.UNSET_INDEX) {\n            this.adapter.setAttributeForElementIndex(this.selectedIndex_, strings.ARIA_CHECKED, 'false');\n        }\n        this.adapter.setAttributeForElementIndex(index, strings.ARIA_CHECKED, 'true');\n        this.selectedIndex_ = index;\n    };\n    MDCListFoundation.prototype.setCheckboxAtIndex_ = function (index) {\n        for (var i = 0; i < this.adapter.getListItemCount(); i++) {\n            var isChecked = false;\n            if (index.indexOf(i) >= 0) {\n                isChecked = true;\n            }\n            this.adapter.setCheckedCheckboxOrRadioAtIndex(i, isChecked);\n            this.adapter.setAttributeForElementIndex(i, strings.ARIA_CHECKED, isChecked ? 'true' : 'false');\n        }\n        this.selectedIndex_ = index;\n    };\n    MDCListFoundation.prototype.setTabindexAtIndex_ = function (index) {\n        if (this.focusedItemIndex === numbers.UNSET_INDEX && index !== 0) {\n            // If no list item was selected set first list item's tabindex to -1.\n            // Generally, tabindex is set to 0 on first list item of list that has no preselected items.\n            this.adapter.setAttributeForElementIndex(0, 'tabindex', '-1');\n        }\n        else if (this.focusedItemIndex >= 0 && this.focusedItemIndex !== index) {\n            this.adapter.setAttributeForElementIndex(this.focusedItemIndex, 'tabindex', '-1');\n        }\n        this.adapter.setAttributeForElementIndex(index, 'tabindex', '0');\n    };\n    /**\n     * @return Return true if it is single selectin list, checkbox list or radio list.\n     */\n    MDCListFoundation.prototype.isSelectableList_ = function () {\n        return this.isSingleSelectionList_ || this.isCheckboxList_ || this.isRadioList_;\n    };\n    MDCListFoundation.prototype.setTabindexToFirstSelectedItem_ = function () {\n        var targetIndex = 0;\n        if (this.isSelectableList_()) {\n            if (typeof this.selectedIndex_ === 'number' && this.selectedIndex_ !== numbers.UNSET_INDEX) {\n                targetIndex = this.selectedIndex_;\n            }\n            else if (isNumberArray(this.selectedIndex_) && this.selectedIndex_.length > 0) {\n                targetIndex = this.selectedIndex_.reduce(function (currentIndex, minIndex) { return Math.min(currentIndex, minIndex); });\n            }\n        }\n        this.setTabindexAtIndex_(targetIndex);\n    };\n    MDCListFoundation.prototype.isIndexValid_ = function (index) {\n        var _this = this;\n        if (index instanceof Array) {\n            if (!this.isCheckboxList_) {\n                throw new Error('MDCListFoundation: Array of index is only supported for checkbox based list');\n            }\n            if (index.length === 0) {\n                return true;\n            }\n            else {\n                return index.some(function (i) { return _this.isIndexInRange_(i); });\n            }\n        }\n        else if (typeof index === 'number') {\n            if (this.isCheckboxList_) {\n                throw new Error('MDCListFoundation: Expected array of index for checkbox based list but got number: ' + index);\n            }\n            return this.isIndexInRange_(index);\n        }\n        else {\n            return false;\n        }\n    };\n    MDCListFoundation.prototype.isIndexInRange_ = function (index) {\n        var listSize = this.adapter.getListItemCount();\n        return index >= 0 && index < listSize;\n    };\n    /**\n     * Sets selected index on user action, toggles checkbox / radio based on toggleCheckbox value.\n     * User interaction should not toggle list item(s) when disabled.\n     */\n    MDCListFoundation.prototype.setSelectedIndexOnAction_ = function (index, toggleCheckbox) {\n        if (toggleCheckbox === void 0) { toggleCheckbox = true; }\n        if (this.isCheckboxList_) {\n            this.toggleCheckboxAtIndex_(index, toggleCheckbox);\n        }\n        else {\n            this.setSelectedIndex(index);\n        }\n    };\n    MDCListFoundation.prototype.toggleCheckboxAtIndex_ = function (index, toggleCheckbox) {\n        var isChecked = this.adapter.isCheckboxCheckedAtIndex(index);\n        if (toggleCheckbox) {\n            isChecked = !isChecked;\n            this.adapter.setCheckedCheckboxOrRadioAtIndex(index, isChecked);\n        }\n        this.adapter.setAttributeForElementIndex(index, strings.ARIA_CHECKED, isChecked ? 'true' : 'false');\n        // If none of the checkbox items are selected and selectedIndex is not initialized then provide a default value.\n        var selectedIndexes = this.selectedIndex_ === numbers.UNSET_INDEX ? [] : this.selectedIndex_.slice();\n        if (isChecked) {\n            selectedIndexes.push(index);\n        }\n        else {\n            selectedIndexes = selectedIndexes.filter(function (i) { return i !== index; });\n        }\n        this.selectedIndex_ = selectedIndexes;\n    };\n    MDCListFoundation.prototype.focusItemAtIndex = function (index) {\n        this.setTabindexAtIndex_(index);\n        this.adapter.focusItemAtIndex(index);\n        this.focusedItemIndex = index;\n    };\n    /**\n     * Given the next desired character from the user, adds it to the typeahead\n     * buffer. Then, attempts to find the next option matching the buffer. Wraps\n     * around if at the end of options.\n     *\n     * @param nextChar The next character to add to the prefix buffer.\n     * @param startingIndex The index from which to start matching. Only relevant\n     *     when starting a new match sequence. To start a new match sequence,\n     *     clear the buffer using `clearTypeaheadBuffer`, or wait for the buffer\n     *     to clear after a set interval defined in list foundation. Defaults to\n     *     the currently focused index.\n     * @return The index of the matched item, or -1 if no match.\n     */\n    MDCListFoundation.prototype.typeaheadMatchItem = function (nextChar, startingIndex, skipFocus) {\n        var _this = this;\n        if (skipFocus === void 0) { skipFocus = false; }\n        var opts = {\n            focusItemAtIndex: function (index) {\n                _this.focusItemAtIndex(index);\n            },\n            focusedItemIndex: startingIndex ? startingIndex : this.focusedItemIndex,\n            nextChar: nextChar,\n            sortedIndexByFirstChar: this.sortedIndexByFirstChar,\n            skipFocus: skipFocus,\n            isItemAtIndexDisabled: function (index) { return _this.adapter.listItemAtIndexHasClass(index, cssClasses.LIST_ITEM_DISABLED_CLASS); }\n        };\n        return matchItem(opts, this.typeaheadState);\n    };\n    /**\n     * Initializes the MDCListTextAndIndex data structure by indexing the current\n     * list items by primary text.\n     *\n     * @return The primary texts of all the list items sorted by first character.\n     */\n    MDCListFoundation.prototype.typeaheadInitSortedIndex = function () {\n        return initSortedIndex(this.adapter.getListItemCount(), this.adapter.getPrimaryTextAtIndex);\n    };\n    /**\n     * Clears the typeahead buffer.\n     */\n    MDCListFoundation.prototype.clearTypeaheadBuffer = function () {\n        clearBuffer(this.typeaheadState);\n    };\n    return MDCListFoundation;\n}(MDCFoundation));\n\n/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar MDCList = /** @class */ (function (_super) {\n    __extends(MDCList, _super);\n    function MDCList() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(MDCList.prototype, \"vertical\", {\n        set: function (value) {\n            this.foundation.setVerticalOrientation(value);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCList.prototype, \"listElements\", {\n        get: function () {\n            return [].slice.call(this.root.querySelectorAll(\".\" + cssClasses.LIST_ITEM_CLASS));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCList.prototype, \"wrapFocus\", {\n        set: function (value) {\n            this.foundation.setWrapFocus(value);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCList.prototype, \"typeaheadInProgress\", {\n        /**\n         * @return Whether typeahead is currently matching a user-specified prefix.\n         */\n        get: function () {\n            return this.foundation.isTypeaheadInProgress();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCList.prototype, \"hasTypeahead\", {\n        /**\n         * Sets whether typeahead functionality is enabled on the list.\n         * @param hasTypeahead Whether typeahead is enabled.\n         */\n        set: function (hasTypeahead) {\n            this.foundation.setHasTypeahead(hasTypeahead);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCList.prototype, \"singleSelection\", {\n        set: function (isSingleSelectionList) {\n            this.foundation.setSingleSelection(isSingleSelectionList);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCList.prototype, \"selectedIndex\", {\n        get: function () {\n            return this.foundation.getSelectedIndex();\n        },\n        set: function (index) {\n            this.foundation.setSelectedIndex(index);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MDCList.attachTo = function (root) {\n        return new MDCList(root);\n    };\n    MDCList.prototype.initialSyncWithDOM = function () {\n        this.handleClick_ = this.handleClickEvent_.bind(this);\n        this.handleKeydown_ = this.handleKeydownEvent_.bind(this);\n        this.focusInEventListener_ = this.handleFocusInEvent_.bind(this);\n        this.focusOutEventListener_ = this.handleFocusOutEvent_.bind(this);\n        this.listen('keydown', this.handleKeydown_);\n        this.listen('click', this.handleClick_);\n        this.listen('focusin', this.focusInEventListener_);\n        this.listen('focusout', this.focusOutEventListener_);\n        this.layout();\n        this.initializeListType();\n    };\n    MDCList.prototype.destroy = function () {\n        this.unlisten('keydown', this.handleKeydown_);\n        this.unlisten('click', this.handleClick_);\n        this.unlisten('focusin', this.focusInEventListener_);\n        this.unlisten('focusout', this.focusOutEventListener_);\n    };\n    MDCList.prototype.layout = function () {\n        var direction = this.root.getAttribute(strings.ARIA_ORIENTATION);\n        this.vertical = direction !== strings.ARIA_ORIENTATION_HORIZONTAL;\n        // List items need to have at least tabindex=-1 to be focusable.\n        [].slice.call(this.root.querySelectorAll('.mdc-list-item:not([tabindex])'))\n            .forEach(function (el) {\n            el.setAttribute('tabindex', '-1');\n        });\n        // Child button/a elements are not tabbable until the list item is focused.\n        [].slice.call(this.root.querySelectorAll(strings.FOCUSABLE_CHILD_ELEMENTS))\n            .forEach(function (el) { return el.setAttribute('tabindex', '-1'); });\n        this.foundation.layout();\n    };\n    /**\n     * Extracts the primary text from a list item.\n     * @param item The list item element.\n     * @return The primary text in the element.\n     */\n    MDCList.prototype.getPrimaryText = function (item) {\n        var primaryText = item.querySelector(\".\" + cssClasses.LIST_ITEM_PRIMARY_TEXT_CLASS);\n        if (primaryText) {\n            return primaryText.textContent || '';\n        }\n        var singleLineText = item.querySelector(\".\" + cssClasses.LIST_ITEM_TEXT_CLASS);\n        return (singleLineText && singleLineText.textContent) || '';\n    };\n    /**\n     * Initialize selectedIndex value based on pre-selected checkbox list items, single selection or radio.\n     */\n    MDCList.prototype.initializeListType = function () {\n        var _this = this;\n        var checkboxListItems = this.root.querySelectorAll(strings.ARIA_ROLE_CHECKBOX_SELECTOR);\n        var singleSelectedListItem = this.root.querySelector(\"\\n      .\" + cssClasses.LIST_ITEM_ACTIVATED_CLASS + \",\\n      .\" + cssClasses.LIST_ITEM_SELECTED_CLASS + \"\\n    \");\n        var radioSelectedListItem = this.root.querySelector(strings.ARIA_CHECKED_RADIO_SELECTOR);\n        if (checkboxListItems.length) {\n            var preselectedItems = this.root.querySelectorAll(strings.ARIA_CHECKED_CHECKBOX_SELECTOR);\n            this.selectedIndex =\n                [].map.call(preselectedItems, function (listItem) { return _this.listElements.indexOf(listItem); });\n        }\n        else if (singleSelectedListItem) {\n            if (singleSelectedListItem.classList.contains(cssClasses.LIST_ITEM_ACTIVATED_CLASS)) {\n                this.foundation.setUseActivatedClass(true);\n            }\n            this.singleSelection = true;\n            this.selectedIndex = this.listElements.indexOf(singleSelectedListItem);\n        }\n        else if (radioSelectedListItem) {\n            this.selectedIndex = this.listElements.indexOf(radioSelectedListItem);\n        }\n    };\n    /**\n     * Updates the list item at itemIndex to the desired isEnabled state.\n     * @param itemIndex Index of the list item\n     * @param isEnabled Sets the list item to enabled or disabled.\n     */\n    MDCList.prototype.setEnabled = function (itemIndex, isEnabled) {\n        this.foundation.setEnabled(itemIndex, isEnabled);\n    };\n    /**\n     * Given the next desired character from the user, adds it to the typeahead\n     * buffer. Then, attempts to find the next option matching the buffer. Wraps\n     * around if at the end of options.\n     *\n     * @param nextChar The next character to add to the prefix buffer.\n     * @param startingIndex The index from which to start matching. Defaults to\n     *     the currently focused index.\n     * @return The index of the matched item.\n     */\n    MDCList.prototype.typeaheadMatchItem = function (nextChar, startingIndex) {\n        return this.foundation.typeaheadMatchItem(nextChar, startingIndex, /** skipFocus */ true);\n    };\n    MDCList.prototype.getDefaultFoundation = function () {\n        var _this = this;\n        // DO NOT INLINE this variable. For backward compatibility, foundations take a Partial<MDCFooAdapter>.\n        // To ensure we don't accidentally omit any methods, we need a separate, strongly typed adapter variable.\n        var adapter = {\n            addClassForElementIndex: function (index, className) {\n                var element = _this.listElements[index];\n                if (element) {\n                    element.classList.add(className);\n                }\n            },\n            focusItemAtIndex: function (index) {\n                var element = _this.listElements[index];\n                if (element) {\n                    element.focus();\n                }\n            },\n            getAttributeForElementIndex: function (index, attr) {\n                return _this.listElements[index].getAttribute(attr);\n            },\n            getFocusedElementIndex: function () {\n                return _this.listElements.indexOf(document.activeElement);\n            },\n            getListItemCount: function () { return _this.listElements.length; },\n            getPrimaryTextAtIndex: function (index) {\n                return _this.getPrimaryText(_this.listElements[index]);\n            },\n            hasCheckboxAtIndex: function (index) {\n                var listItem = _this.listElements[index];\n                return !!listItem.querySelector(strings.CHECKBOX_SELECTOR);\n            },\n            hasRadioAtIndex: function (index) {\n                var listItem = _this.listElements[index];\n                return !!listItem.querySelector(strings.RADIO_SELECTOR);\n            },\n            isCheckboxCheckedAtIndex: function (index) {\n                var listItem = _this.listElements[index];\n                var toggleEl = listItem.querySelector(strings.CHECKBOX_SELECTOR);\n                return toggleEl.checked;\n            },\n            isFocusInsideList: function () {\n                return _this.root.contains(document.activeElement);\n            },\n            isRootFocused: function () { return document.activeElement === _this.root; },\n            listItemAtIndexHasClass: function (index, className) {\n                return _this.listElements[index].classList.contains(className);\n            },\n            notifyAction: function (index) {\n                _this.emit(strings.ACTION_EVENT, { index: index }, /** shouldBubble */ true);\n            },\n            removeClassForElementIndex: function (index, className) {\n                var element = _this.listElements[index];\n                if (element) {\n                    element.classList.remove(className);\n                }\n            },\n            setAttributeForElementIndex: function (index, attr, value) {\n                var element = _this.listElements[index];\n                if (element) {\n                    element.setAttribute(attr, value);\n                }\n            },\n            setCheckedCheckboxOrRadioAtIndex: function (index, isChecked) {\n                var listItem = _this.listElements[index];\n                var toggleEl = listItem.querySelector(strings.CHECKBOX_RADIO_SELECTOR);\n                toggleEl.checked = isChecked;\n                var event = document.createEvent('Event');\n                event.initEvent('change', true, true);\n                toggleEl.dispatchEvent(event);\n            },\n            setTabIndexForListItemChildren: function (listItemIndex, tabIndexValue) {\n                var element = _this.listElements[listItemIndex];\n                var listItemChildren = [].slice.call(element.querySelectorAll(strings.CHILD_ELEMENTS_TO_TOGGLE_TABINDEX));\n                listItemChildren.forEach(function (el) { return el.setAttribute('tabindex', tabIndexValue); });\n            },\n        };\n        return new MDCListFoundation(adapter);\n    };\n    /**\n     * Used to figure out which list item this event is targetting. Or returns -1 if\n     * there is no list item\n     */\n    MDCList.prototype.getListItemIndex_ = function (evt) {\n        var eventTarget = evt.target;\n        var nearestParent = closest(eventTarget, \".\" + cssClasses.LIST_ITEM_CLASS + \", .\" + cssClasses.ROOT);\n        // Get the index of the element if it is a list item.\n        if (nearestParent && matches(nearestParent, \".\" + cssClasses.LIST_ITEM_CLASS)) {\n            return this.listElements.indexOf(nearestParent);\n        }\n        return -1;\n    };\n    /**\n     * Used to figure out which element was clicked before sending the event to the foundation.\n     */\n    MDCList.prototype.handleFocusInEvent_ = function (evt) {\n        var index = this.getListItemIndex_(evt);\n        this.foundation.handleFocusIn(evt, index);\n    };\n    /**\n     * Used to figure out which element was clicked before sending the event to the foundation.\n     */\n    MDCList.prototype.handleFocusOutEvent_ = function (evt) {\n        var index = this.getListItemIndex_(evt);\n        this.foundation.handleFocusOut(evt, index);\n    };\n    /**\n     * Used to figure out which element was focused when keydown event occurred before sending the event to the\n     * foundation.\n     */\n    MDCList.prototype.handleKeydownEvent_ = function (evt) {\n        var index = this.getListItemIndex_(evt);\n        var target = evt.target;\n        this.foundation.handleKeydown(evt, target.classList.contains(cssClasses.LIST_ITEM_CLASS), index);\n    };\n    /**\n     * Used to figure out which element was clicked before sending the event to the foundation.\n     */\n    MDCList.prototype.handleClickEvent_ = function (evt) {\n        var index = this.getListItemIndex_(evt);\n        var target = evt.target;\n        // Toggle the checkbox only if it's not the target of the event, or the checkbox will have 2 change events.\n        var toggleCheckbox = !matches(target, strings.CHECKBOX_RADIO_SELECTOR);\n        this.foundation.handleClick(index, toggleCheckbox);\n    };\n    return MDCList;\n}(MDCComponent));\n\n/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar cssClasses$1 = {\n    ANCHOR: 'mdc-menu-surface--anchor',\n    ANIMATING_CLOSED: 'mdc-menu-surface--animating-closed',\n    ANIMATING_OPEN: 'mdc-menu-surface--animating-open',\n    FIXED: 'mdc-menu-surface--fixed',\n    IS_OPEN_BELOW: 'mdc-menu-surface--is-open-below',\n    OPEN: 'mdc-menu-surface--open',\n    ROOT: 'mdc-menu-surface',\n};\n// tslint:disable:object-literal-sort-keys\nvar strings$1 = {\n    CLOSED_EVENT: 'MDCMenuSurface:closed',\n    OPENED_EVENT: 'MDCMenuSurface:opened',\n    FOCUSABLE_ELEMENTS: [\n        'button:not(:disabled)', '[href]:not([aria-disabled=\"true\"])', 'input:not(:disabled)',\n        'select:not(:disabled)', 'textarea:not(:disabled)', '[tabindex]:not([tabindex=\"-1\"]):not([aria-disabled=\"true\"])',\n    ].join(', '),\n};\n// tslint:enable:object-literal-sort-keys\nvar numbers$1 = {\n    /** Total duration of menu-surface open animation. */\n    TRANSITION_OPEN_DURATION: 120,\n    /** Total duration of menu-surface close animation. */\n    TRANSITION_CLOSE_DURATION: 75,\n    /** Margin left to the edge of the viewport when menu-surface is at maximum possible height. Also used as a viewport margin. */\n    MARGIN_TO_EDGE: 32,\n    /** Ratio of anchor width to menu-surface width for switching from corner positioning to center positioning. */\n    ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO: 0.67,\n};\n/**\n * Enum for bits in the {@see Corner) bitmap.\n */\nvar CornerBit;\n(function (CornerBit) {\n    CornerBit[CornerBit[\"BOTTOM\"] = 1] = \"BOTTOM\";\n    CornerBit[CornerBit[\"CENTER\"] = 2] = \"CENTER\";\n    CornerBit[CornerBit[\"RIGHT\"] = 4] = \"RIGHT\";\n    CornerBit[CornerBit[\"FLIP_RTL\"] = 8] = \"FLIP_RTL\";\n})(CornerBit || (CornerBit = {}));\n/**\n * Enum for representing an element corner for positioning the menu-surface.\n *\n * The START constants map to LEFT if element directionality is left\n * to right and RIGHT if the directionality is right to left.\n * Likewise END maps to RIGHT or LEFT depending on the directionality.\n */\nvar Corner;\n(function (Corner) {\n    Corner[Corner[\"TOP_LEFT\"] = 0] = \"TOP_LEFT\";\n    Corner[Corner[\"TOP_RIGHT\"] = 4] = \"TOP_RIGHT\";\n    Corner[Corner[\"BOTTOM_LEFT\"] = 1] = \"BOTTOM_LEFT\";\n    Corner[Corner[\"BOTTOM_RIGHT\"] = 5] = \"BOTTOM_RIGHT\";\n    Corner[Corner[\"TOP_START\"] = 8] = \"TOP_START\";\n    Corner[Corner[\"TOP_END\"] = 12] = \"TOP_END\";\n    Corner[Corner[\"BOTTOM_START\"] = 9] = \"BOTTOM_START\";\n    Corner[Corner[\"BOTTOM_END\"] = 13] = \"BOTTOM_END\";\n})(Corner || (Corner = {}));\n\n/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar MDCMenuSurfaceFoundation = /** @class */ (function (_super) {\n    __extends(MDCMenuSurfaceFoundation, _super);\n    function MDCMenuSurfaceFoundation(adapter) {\n        var _this = _super.call(this, __assign(__assign({}, MDCMenuSurfaceFoundation.defaultAdapter), adapter)) || this;\n        _this.isSurfaceOpen = false;\n        _this.isQuickOpen = false;\n        _this.isHoistedElement = false;\n        _this.isFixedPosition = false;\n        _this.openAnimationEndTimerId = 0;\n        _this.closeAnimationEndTimerId = 0;\n        _this.animationRequestId = 0;\n        _this.anchorCorner = Corner.TOP_START;\n        /**\n         * Corner of the menu surface to which menu surface is attached to anchor.\n         *\n         *  Anchor corner --->+----------+\n         *                    |  ANCHOR  |\n         *                    +----------+\n         *  Origin corner --->+--------------+\n         *                    |              |\n         *                    |              |\n         *                    | MENU SURFACE |\n         *                    |              |\n         *                    |              |\n         *                    +--------------+\n         */\n        _this.originCorner = Corner.TOP_START;\n        _this.anchorMargin = { top: 0, right: 0, bottom: 0, left: 0 };\n        _this.position = { x: 0, y: 0 };\n        return _this;\n    }\n    Object.defineProperty(MDCMenuSurfaceFoundation, \"cssClasses\", {\n        get: function () {\n            return cssClasses$1;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenuSurfaceFoundation, \"strings\", {\n        get: function () {\n            return strings$1;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenuSurfaceFoundation, \"numbers\", {\n        get: function () {\n            return numbers$1;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenuSurfaceFoundation, \"Corner\", {\n        get: function () {\n            return Corner;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenuSurfaceFoundation, \"defaultAdapter\", {\n        /**\n         * @see {@link MDCMenuSurfaceAdapter} for typing information on parameters and return types.\n         */\n        get: function () {\n            // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n            return {\n                addClass: function () { return undefined; },\n                removeClass: function () { return undefined; },\n                hasClass: function () { return false; },\n                hasAnchor: function () { return false; },\n                isElementInContainer: function () { return false; },\n                isFocused: function () { return false; },\n                isRtl: function () { return false; },\n                getInnerDimensions: function () { return ({ height: 0, width: 0 }); },\n                getAnchorDimensions: function () { return null; },\n                getWindowDimensions: function () { return ({ height: 0, width: 0 }); },\n                getBodyDimensions: function () { return ({ height: 0, width: 0 }); },\n                getWindowScroll: function () { return ({ x: 0, y: 0 }); },\n                setPosition: function () { return undefined; },\n                setMaxHeight: function () { return undefined; },\n                setTransformOrigin: function () { return undefined; },\n                saveFocus: function () { return undefined; },\n                restoreFocus: function () { return undefined; },\n                notifyClose: function () { return undefined; },\n                notifyOpen: function () { return undefined; },\n            };\n            // tslint:enable:object-literal-sort-keys\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MDCMenuSurfaceFoundation.prototype.init = function () {\n        var _a = MDCMenuSurfaceFoundation.cssClasses, ROOT = _a.ROOT, OPEN = _a.OPEN;\n        if (!this.adapter.hasClass(ROOT)) {\n            throw new Error(ROOT + \" class required in root element.\");\n        }\n        if (this.adapter.hasClass(OPEN)) {\n            this.isSurfaceOpen = true;\n        }\n    };\n    MDCMenuSurfaceFoundation.prototype.destroy = function () {\n        clearTimeout(this.openAnimationEndTimerId);\n        clearTimeout(this.closeAnimationEndTimerId);\n        // Cancel any currently running animations.\n        cancelAnimationFrame(this.animationRequestId);\n    };\n    /**\n     * @param corner Default anchor corner alignment of top-left menu surface corner.\n     */\n    MDCMenuSurfaceFoundation.prototype.setAnchorCorner = function (corner) {\n        this.anchorCorner = corner;\n    };\n    /**\n     * Flip menu corner horizontally.\n     */\n    MDCMenuSurfaceFoundation.prototype.flipCornerHorizontally = function () {\n        this.originCorner = this.originCorner ^ CornerBit.RIGHT;\n    };\n    /**\n     * @param margin Set of margin values from anchor.\n     */\n    MDCMenuSurfaceFoundation.prototype.setAnchorMargin = function (margin) {\n        this.anchorMargin.top = margin.top || 0;\n        this.anchorMargin.right = margin.right || 0;\n        this.anchorMargin.bottom = margin.bottom || 0;\n        this.anchorMargin.left = margin.left || 0;\n    };\n    /** Used to indicate if the menu-surface is hoisted to the body. */\n    MDCMenuSurfaceFoundation.prototype.setIsHoisted = function (isHoisted) {\n        this.isHoistedElement = isHoisted;\n    };\n    /** Used to set the menu-surface calculations based on a fixed position menu. */\n    MDCMenuSurfaceFoundation.prototype.setFixedPosition = function (isFixedPosition) {\n        this.isFixedPosition = isFixedPosition;\n    };\n    /** Sets the menu-surface position on the page. */\n    MDCMenuSurfaceFoundation.prototype.setAbsolutePosition = function (x, y) {\n        this.position.x = this.isFinite(x) ? x : 0;\n        this.position.y = this.isFinite(y) ? y : 0;\n    };\n    MDCMenuSurfaceFoundation.prototype.setQuickOpen = function (quickOpen) {\n        this.isQuickOpen = quickOpen;\n    };\n    MDCMenuSurfaceFoundation.prototype.isOpen = function () {\n        return this.isSurfaceOpen;\n    };\n    /**\n     * Open the menu surface.\n     */\n    MDCMenuSurfaceFoundation.prototype.open = function () {\n        var _this = this;\n        if (this.isSurfaceOpen) {\n            return;\n        }\n        this.adapter.saveFocus();\n        if (this.isQuickOpen) {\n            this.isSurfaceOpen = true;\n            this.adapter.addClass(MDCMenuSurfaceFoundation.cssClasses.OPEN);\n            this.dimensions = this.adapter.getInnerDimensions();\n            this.autoposition();\n            this.adapter.notifyOpen();\n        }\n        else {\n            this.adapter.addClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_OPEN);\n            this.animationRequestId = requestAnimationFrame(function () {\n                _this.adapter.addClass(MDCMenuSurfaceFoundation.cssClasses.OPEN);\n                _this.dimensions = _this.adapter.getInnerDimensions();\n                _this.autoposition();\n                _this.openAnimationEndTimerId = setTimeout(function () {\n                    _this.openAnimationEndTimerId = 0;\n                    _this.adapter.removeClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_OPEN);\n                    _this.adapter.notifyOpen();\n                }, numbers$1.TRANSITION_OPEN_DURATION);\n            });\n            this.isSurfaceOpen = true;\n        }\n    };\n    /**\n     * Closes the menu surface.\n     */\n    MDCMenuSurfaceFoundation.prototype.close = function (skipRestoreFocus) {\n        var _this = this;\n        if (skipRestoreFocus === void 0) { skipRestoreFocus = false; }\n        if (!this.isSurfaceOpen) {\n            return;\n        }\n        if (this.isQuickOpen) {\n            this.isSurfaceOpen = false;\n            if (!skipRestoreFocus) {\n                this.maybeRestoreFocus();\n            }\n            this.adapter.removeClass(MDCMenuSurfaceFoundation.cssClasses.OPEN);\n            this.adapter.removeClass(MDCMenuSurfaceFoundation.cssClasses.IS_OPEN_BELOW);\n            this.adapter.notifyClose();\n        }\n        else {\n            this.adapter.addClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_CLOSED);\n            requestAnimationFrame(function () {\n                _this.adapter.removeClass(MDCMenuSurfaceFoundation.cssClasses.OPEN);\n                _this.adapter.removeClass(MDCMenuSurfaceFoundation.cssClasses.IS_OPEN_BELOW);\n                _this.closeAnimationEndTimerId = setTimeout(function () {\n                    _this.closeAnimationEndTimerId = 0;\n                    _this.adapter.removeClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_CLOSED);\n                    _this.adapter.notifyClose();\n                }, numbers$1.TRANSITION_CLOSE_DURATION);\n            });\n            this.isSurfaceOpen = false;\n            if (!skipRestoreFocus) {\n                this.maybeRestoreFocus();\n            }\n        }\n    };\n    /** Handle clicks and close if not within menu-surface element. */\n    MDCMenuSurfaceFoundation.prototype.handleBodyClick = function (evt) {\n        var el = evt.target;\n        if (this.adapter.isElementInContainer(el)) {\n            return;\n        }\n        this.close();\n    };\n    /** Handle keys that close the surface. */\n    MDCMenuSurfaceFoundation.prototype.handleKeydown = function (evt) {\n        var keyCode = evt.keyCode, key = evt.key;\n        var isEscape = key === 'Escape' || keyCode === 27;\n        if (isEscape) {\n            this.close();\n        }\n    };\n    MDCMenuSurfaceFoundation.prototype.autoposition = function () {\n        var _a;\n        // Compute measurements for autoposition methods reuse.\n        this.measurements = this.getAutoLayoutmeasurements();\n        var corner = this.getoriginCorner();\n        var maxMenuSurfaceHeight = this.getMenuSurfaceMaxHeight(corner);\n        var verticalAlignment = this.hasBit(corner, CornerBit.BOTTOM) ? 'bottom' : 'top';\n        var horizontalAlignment = this.hasBit(corner, CornerBit.RIGHT) ? 'right' : 'left';\n        var horizontalOffset = this.getHorizontalOriginOffset(corner);\n        var verticalOffset = this.getVerticalOriginOffset(corner);\n        var _b = this.measurements, anchorSize = _b.anchorSize, surfaceSize = _b.surfaceSize;\n        var position = (_a = {},\n            _a[horizontalAlignment] = horizontalOffset,\n            _a[verticalAlignment] = verticalOffset,\n            _a);\n        // Center align when anchor width is comparable or greater than menu surface, otherwise keep corner.\n        if (anchorSize.width / surfaceSize.width > numbers$1.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO) {\n            horizontalAlignment = 'center';\n        }\n        // If the menu-surface has been hoisted to the body, it's no longer relative to the anchor element\n        if (this.isHoistedElement || this.isFixedPosition) {\n            this.adjustPositionForHoistedElement(position);\n        }\n        this.adapter.setTransformOrigin(horizontalAlignment + \" \" + verticalAlignment);\n        this.adapter.setPosition(position);\n        this.adapter.setMaxHeight(maxMenuSurfaceHeight ? maxMenuSurfaceHeight + 'px' : '');\n        // If it is opened from the top then add is-open-below class\n        if (!this.hasBit(corner, CornerBit.BOTTOM)) {\n            this.adapter.addClass(MDCMenuSurfaceFoundation.cssClasses.IS_OPEN_BELOW);\n        }\n    };\n    /**\n     * @return Measurements used to position menu surface popup.\n     */\n    MDCMenuSurfaceFoundation.prototype.getAutoLayoutmeasurements = function () {\n        var anchorRect = this.adapter.getAnchorDimensions();\n        var bodySize = this.adapter.getBodyDimensions();\n        var viewportSize = this.adapter.getWindowDimensions();\n        var windowScroll = this.adapter.getWindowScroll();\n        if (!anchorRect) {\n            // tslint:disable:object-literal-sort-keys Positional properties are more readable when they're grouped together\n            anchorRect = {\n                top: this.position.y,\n                right: this.position.x,\n                bottom: this.position.y,\n                left: this.position.x,\n                width: 0,\n                height: 0,\n            };\n            // tslint:enable:object-literal-sort-keys\n        }\n        return {\n            anchorSize: anchorRect,\n            bodySize: bodySize,\n            surfaceSize: this.dimensions,\n            viewportDistance: {\n                // tslint:disable:object-literal-sort-keys Positional properties are more readable when they're grouped together\n                top: anchorRect.top,\n                right: viewportSize.width - anchorRect.right,\n                bottom: viewportSize.height - anchorRect.bottom,\n                left: anchorRect.left,\n            },\n            viewportSize: viewportSize,\n            windowScroll: windowScroll,\n        };\n    };\n    /**\n     * Computes the corner of the anchor from which to animate and position the\n     * menu surface.\n     *\n     * Only LEFT or RIGHT bit is used to position the menu surface ignoring RTL\n     * context. E.g., menu surface will be positioned from right side on TOP_END.\n     */\n    MDCMenuSurfaceFoundation.prototype.getoriginCorner = function () {\n        var corner = this.originCorner;\n        var _a = this.measurements, viewportDistance = _a.viewportDistance, anchorSize = _a.anchorSize, surfaceSize = _a.surfaceSize;\n        var MARGIN_TO_EDGE = MDCMenuSurfaceFoundation.numbers.MARGIN_TO_EDGE;\n        var isAnchoredToBottom = this.hasBit(this.anchorCorner, CornerBit.BOTTOM);\n        var availableTop;\n        var availableBottom;\n        if (isAnchoredToBottom) {\n            availableTop = viewportDistance.top - MARGIN_TO_EDGE + anchorSize.height +\n                this.anchorMargin.bottom;\n            availableBottom =\n                viewportDistance.bottom - MARGIN_TO_EDGE - this.anchorMargin.bottom;\n        }\n        else {\n            availableTop =\n                viewportDistance.top - MARGIN_TO_EDGE + this.anchorMargin.top;\n            availableBottom = viewportDistance.bottom - MARGIN_TO_EDGE +\n                anchorSize.height - this.anchorMargin.top;\n        }\n        var isAvailableBottom = availableBottom - surfaceSize.height > 0;\n        if (!isAvailableBottom && availableTop >= availableBottom) {\n            // Attach bottom side of surface to the anchor.\n            corner = this.setBit(corner, CornerBit.BOTTOM);\n        }\n        var isRtl = this.adapter.isRtl();\n        var isFlipRtl = this.hasBit(this.anchorCorner, CornerBit.FLIP_RTL);\n        var hasRightBit = this.hasBit(this.anchorCorner, CornerBit.RIGHT);\n        // Whether surface attached to right side of anchor element.\n        var isAnchoredToRight = false;\n        // Anchored to start\n        if (isRtl && isFlipRtl) {\n            isAnchoredToRight = !hasRightBit;\n        }\n        else {\n            // Anchored to right\n            isAnchoredToRight = hasRightBit;\n        }\n        var availableLeft;\n        var availableRight;\n        if (isAnchoredToRight) {\n            availableLeft =\n                viewportDistance.left + anchorSize.width + this.anchorMargin.right;\n            availableRight = viewportDistance.right - this.anchorMargin.right;\n        }\n        else {\n            availableLeft = viewportDistance.left + this.anchorMargin.left;\n            availableRight =\n                viewportDistance.right + anchorSize.width - this.anchorMargin.left;\n        }\n        var isAvailableLeft = availableLeft - surfaceSize.width > 0;\n        var isAvailableRight = availableRight - surfaceSize.width > 0;\n        var isOriginCornerAlignedToEnd = this.hasBit(corner, CornerBit.FLIP_RTL) &&\n            this.hasBit(corner, CornerBit.RIGHT);\n        if (isAvailableRight && isOriginCornerAlignedToEnd && isRtl ||\n            !isAvailableLeft && isOriginCornerAlignedToEnd) {\n            // Attach left side of surface to the anchor.\n            corner = this.unsetBit(corner, CornerBit.RIGHT);\n        }\n        else if (isAvailableLeft && isAnchoredToRight && isRtl ||\n            (isAvailableLeft && !isAnchoredToRight && hasRightBit) ||\n            (!isAvailableRight && availableLeft >= availableRight)) {\n            // Attach right side of surface to the anchor.\n            corner = this.setBit(corner, CornerBit.RIGHT);\n        }\n        return corner;\n    };\n    /**\n     * @param corner Origin corner of the menu surface.\n     * @return Maximum height of the menu surface, based on available space. 0 indicates should not be set.\n     */\n    MDCMenuSurfaceFoundation.prototype.getMenuSurfaceMaxHeight = function (corner) {\n        var viewportDistance = this.measurements.viewportDistance;\n        var maxHeight = 0;\n        var isBottomAligned = this.hasBit(corner, CornerBit.BOTTOM);\n        var isBottomAnchored = this.hasBit(this.anchorCorner, CornerBit.BOTTOM);\n        var MARGIN_TO_EDGE = MDCMenuSurfaceFoundation.numbers.MARGIN_TO_EDGE;\n        // When maximum height is not specified, it is handled from CSS.\n        if (isBottomAligned) {\n            maxHeight = viewportDistance.top + this.anchorMargin.top - MARGIN_TO_EDGE;\n            if (!isBottomAnchored) {\n                maxHeight += this.measurements.anchorSize.height;\n            }\n        }\n        else {\n            maxHeight = viewportDistance.bottom - this.anchorMargin.bottom +\n                this.measurements.anchorSize.height - MARGIN_TO_EDGE;\n            if (isBottomAnchored) {\n                maxHeight -= this.measurements.anchorSize.height;\n            }\n        }\n        return maxHeight;\n    };\n    /**\n     * @param corner Origin corner of the menu surface.\n     * @return Horizontal offset of menu surface origin corner from corresponding anchor corner.\n     */\n    MDCMenuSurfaceFoundation.prototype.getHorizontalOriginOffset = function (corner) {\n        var anchorSize = this.measurements.anchorSize;\n        // isRightAligned corresponds to using the 'right' property on the surface.\n        var isRightAligned = this.hasBit(corner, CornerBit.RIGHT);\n        var avoidHorizontalOverlap = this.hasBit(this.anchorCorner, CornerBit.RIGHT);\n        if (isRightAligned) {\n            var rightOffset = avoidHorizontalOverlap ?\n                anchorSize.width - this.anchorMargin.left :\n                this.anchorMargin.right;\n            // For hoisted or fixed elements, adjust the offset by the difference\n            // between viewport width and body width so when we calculate the right\n            // value (`adjustPositionForHoistedElement`) based on the element\n            // position, the right property is correct.\n            if (this.isHoistedElement || this.isFixedPosition) {\n                return rightOffset -\n                    (this.measurements.viewportSize.width -\n                        this.measurements.bodySize.width);\n            }\n            return rightOffset;\n        }\n        return avoidHorizontalOverlap ? anchorSize.width - this.anchorMargin.right :\n            this.anchorMargin.left;\n    };\n    /**\n     * @param corner Origin corner of the menu surface.\n     * @return Vertical offset of menu surface origin corner from corresponding anchor corner.\n     */\n    MDCMenuSurfaceFoundation.prototype.getVerticalOriginOffset = function (corner) {\n        var anchorSize = this.measurements.anchorSize;\n        var isBottomAligned = this.hasBit(corner, CornerBit.BOTTOM);\n        var avoidVerticalOverlap = this.hasBit(this.anchorCorner, CornerBit.BOTTOM);\n        var y = 0;\n        if (isBottomAligned) {\n            y = avoidVerticalOverlap ? anchorSize.height - this.anchorMargin.top :\n                -this.anchorMargin.bottom;\n        }\n        else {\n            y = avoidVerticalOverlap ?\n                (anchorSize.height + this.anchorMargin.bottom) :\n                this.anchorMargin.top;\n        }\n        return y;\n    };\n    /** Calculates the offsets for positioning the menu-surface when the menu-surface has been hoisted to the body. */\n    MDCMenuSurfaceFoundation.prototype.adjustPositionForHoistedElement = function (position) {\n        var e_1, _a;\n        var _b = this.measurements, windowScroll = _b.windowScroll, viewportDistance = _b.viewportDistance;\n        var props = Object.keys(position);\n        try {\n            for (var props_1 = __values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {\n                var prop = props_1_1.value;\n                var value = position[prop] || 0;\n                // Hoisted surfaces need to have the anchor elements location on the page added to the\n                // position properties for proper alignment on the body.\n                value += viewportDistance[prop];\n                // Surfaces that are absolutely positioned need to have additional calculations for scroll\n                // and bottom positioning.\n                if (!this.isFixedPosition) {\n                    if (prop === 'top') {\n                        value += windowScroll.y;\n                    }\n                    else if (prop === 'bottom') {\n                        value -= windowScroll.y;\n                    }\n                    else if (prop === 'left') {\n                        value += windowScroll.x;\n                    }\n                    else { // prop === 'right'\n                        value -= windowScroll.x;\n                    }\n                }\n                position[prop] = value;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (props_1_1 && !props_1_1.done && (_a = props_1.return)) _a.call(props_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    /**\n     * The last focused element when the menu surface was opened should regain focus, if the user is\n     * focused on or within the menu surface when it is closed.\n     */\n    MDCMenuSurfaceFoundation.prototype.maybeRestoreFocus = function () {\n        var isRootFocused = this.adapter.isFocused();\n        var childHasFocus = document.activeElement &&\n            this.adapter.isElementInContainer(document.activeElement);\n        if (isRootFocused || childHasFocus) {\n            this.adapter.restoreFocus();\n        }\n    };\n    MDCMenuSurfaceFoundation.prototype.hasBit = function (corner, bit) {\n        return Boolean(corner & bit); // tslint:disable-line:no-bitwise\n    };\n    MDCMenuSurfaceFoundation.prototype.setBit = function (corner, bit) {\n        return corner | bit; // tslint:disable-line:no-bitwise\n    };\n    MDCMenuSurfaceFoundation.prototype.unsetBit = function (corner, bit) {\n        return corner ^ bit;\n    };\n    /**\n     * isFinite that doesn't force conversion to number type.\n     * Equivalent to Number.isFinite in ES2015, which is not supported in IE.\n     */\n    MDCMenuSurfaceFoundation.prototype.isFinite = function (num) {\n        return typeof num === 'number' && isFinite(num);\n    };\n    return MDCMenuSurfaceFoundation;\n}(MDCFoundation));\n\n/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar cachedCssTransformPropertyName_;\n/**\n * Returns the name of the correct transform property to use on the current browser.\n */\nfunction getTransformPropertyName(globalObj, forceRefresh) {\n    if (forceRefresh === void 0) { forceRefresh = false; }\n    if (cachedCssTransformPropertyName_ === undefined || forceRefresh) {\n        var el = globalObj.document.createElement('div');\n        cachedCssTransformPropertyName_ = 'transform' in el.style ? 'transform' : 'webkitTransform';\n    }\n    return cachedCssTransformPropertyName_;\n}\n\n/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar MDCMenuSurface = /** @class */ (function (_super) {\n    __extends(MDCMenuSurface, _super);\n    function MDCMenuSurface() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MDCMenuSurface.attachTo = function (root) {\n        return new MDCMenuSurface(root);\n    };\n    MDCMenuSurface.prototype.initialSyncWithDOM = function () {\n        var _this = this;\n        var parentEl = this.root.parentElement;\n        this.anchorElement = parentEl && parentEl.classList.contains(cssClasses$1.ANCHOR) ? parentEl : null;\n        if (this.root.classList.contains(cssClasses$1.FIXED)) {\n            this.setFixedPosition(true);\n        }\n        this.handleKeydown = function (event) {\n            _this.foundation.handleKeydown(event);\n        };\n        this.handleBodyClick = function (event) {\n            _this.foundation.handleBodyClick(event);\n        };\n        // capture so that no race between handleBodyClick and quickOpen when\n        // menusurface opened on button click which registers this listener\n        this.registerBodyClickListener = function () {\n            document.body.addEventListener('click', _this.handleBodyClick, { capture: true });\n        };\n        this.deregisterBodyClickListener = function () {\n            document.body.removeEventListener('click', _this.handleBodyClick);\n        };\n        this.listen('keydown', this.handleKeydown);\n        this.listen(strings$1.OPENED_EVENT, this.registerBodyClickListener);\n        this.listen(strings$1.CLOSED_EVENT, this.deregisterBodyClickListener);\n    };\n    MDCMenuSurface.prototype.destroy = function () {\n        this.unlisten('keydown', this.handleKeydown);\n        this.unlisten(strings$1.OPENED_EVENT, this.registerBodyClickListener);\n        this.unlisten(strings$1.CLOSED_EVENT, this.deregisterBodyClickListener);\n        _super.prototype.destroy.call(this);\n    };\n    MDCMenuSurface.prototype.isOpen = function () {\n        return this.foundation.isOpen();\n    };\n    MDCMenuSurface.prototype.open = function () {\n        this.foundation.open();\n    };\n    MDCMenuSurface.prototype.close = function (skipRestoreFocus) {\n        if (skipRestoreFocus === void 0) { skipRestoreFocus = false; }\n        this.foundation.close(skipRestoreFocus);\n    };\n    Object.defineProperty(MDCMenuSurface.prototype, \"quickOpen\", {\n        set: function (quickOpen) {\n            this.foundation.setQuickOpen(quickOpen);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /** Sets the foundation to use page offsets for an positioning when the menu is hoisted to the body. */\n    MDCMenuSurface.prototype.setIsHoisted = function (isHoisted) {\n        this.foundation.setIsHoisted(isHoisted);\n    };\n    /** Sets the element that the menu-surface is anchored to. */\n    MDCMenuSurface.prototype.setMenuSurfaceAnchorElement = function (element) {\n        this.anchorElement = element;\n    };\n    /** Sets the menu-surface to position: fixed. */\n    MDCMenuSurface.prototype.setFixedPosition = function (isFixed) {\n        if (isFixed) {\n            this.root.classList.add(cssClasses$1.FIXED);\n        }\n        else {\n            this.root.classList.remove(cssClasses$1.FIXED);\n        }\n        this.foundation.setFixedPosition(isFixed);\n    };\n    /** Sets the absolute x/y position to position based on. Requires the menu to be hoisted. */\n    MDCMenuSurface.prototype.setAbsolutePosition = function (x, y) {\n        this.foundation.setAbsolutePosition(x, y);\n        this.setIsHoisted(true);\n    };\n    /**\n     * @param corner Default anchor corner alignment of top-left surface corner.\n     */\n    MDCMenuSurface.prototype.setAnchorCorner = function (corner) {\n        this.foundation.setAnchorCorner(corner);\n    };\n    MDCMenuSurface.prototype.setAnchorMargin = function (margin) {\n        this.foundation.setAnchorMargin(margin);\n    };\n    MDCMenuSurface.prototype.getDefaultFoundation = function () {\n        var _this = this;\n        // DO NOT INLINE this variable. For backward compatibility, foundations take a Partial<MDCFooAdapter>.\n        // To ensure we don't accidentally omit any methods, we need a separate, strongly typed adapter variable.\n        // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n        var adapter = {\n            addClass: function (className) { return _this.root.classList.add(className); },\n            removeClass: function (className) { return _this.root.classList.remove(className); },\n            hasClass: function (className) { return _this.root.classList.contains(className); },\n            hasAnchor: function () { return !!_this.anchorElement; },\n            notifyClose: function () {\n                return _this.emit(MDCMenuSurfaceFoundation.strings.CLOSED_EVENT, {});\n            },\n            notifyOpen: function () {\n                return _this.emit(MDCMenuSurfaceFoundation.strings.OPENED_EVENT, {});\n            },\n            isElementInContainer: function (el) { return _this.root.contains(el); },\n            isRtl: function () {\n                return getComputedStyle(_this.root).getPropertyValue('direction') === 'rtl';\n            },\n            setTransformOrigin: function (origin) {\n                var propertyName = getTransformPropertyName(window) + \"-origin\";\n                _this.root.style.setProperty(propertyName, origin);\n            },\n            isFocused: function () { return document.activeElement === _this.root; },\n            saveFocus: function () {\n                _this.previousFocus =\n                    document.activeElement;\n            },\n            restoreFocus: function () {\n                if (_this.root.contains(document.activeElement)) {\n                    if (_this.previousFocus && _this.previousFocus.focus) {\n                        _this.previousFocus.focus();\n                    }\n                }\n            },\n            getInnerDimensions: function () {\n                return {\n                    width: _this.root.offsetWidth,\n                    height: _this.root.offsetHeight\n                };\n            },\n            getAnchorDimensions: function () { return _this.anchorElement ?\n                _this.anchorElement.getBoundingClientRect() :\n                null; },\n            getWindowDimensions: function () {\n                return { width: window.innerWidth, height: window.innerHeight };\n            },\n            getBodyDimensions: function () {\n                return { width: document.body.clientWidth, height: document.body.clientHeight };\n            },\n            getWindowScroll: function () {\n                return { x: window.pageXOffset, y: window.pageYOffset };\n            },\n            setPosition: function (position) {\n                var rootHTML = _this.root;\n                rootHTML.style.left = 'left' in position ? position.left + \"px\" : '';\n                rootHTML.style.right = 'right' in position ? position.right + \"px\" : '';\n                rootHTML.style.top = 'top' in position ? position.top + \"px\" : '';\n                rootHTML.style.bottom =\n                    'bottom' in position ? position.bottom + \"px\" : '';\n            },\n            setMaxHeight: function (height) {\n                _this.root.style.maxHeight = height;\n            },\n        };\n        // tslint:enable:object-literal-sort-keys\n        return new MDCMenuSurfaceFoundation(adapter);\n    };\n    return MDCMenuSurface;\n}(MDCComponent));\n\n/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar cssClasses$2 = {\n    MENU_SELECTED_LIST_ITEM: 'mdc-menu-item--selected',\n    MENU_SELECTION_GROUP: 'mdc-menu__selection-group',\n    ROOT: 'mdc-menu',\n};\nvar strings$2 = {\n    ARIA_CHECKED_ATTR: 'aria-checked',\n    ARIA_DISABLED_ATTR: 'aria-disabled',\n    CHECKBOX_SELECTOR: 'input[type=\"checkbox\"]',\n    LIST_SELECTOR: '.mdc-list',\n    SELECTED_EVENT: 'MDCMenu:selected',\n};\nvar numbers$2 = {\n    FOCUS_ROOT_INDEX: -1,\n};\nvar DefaultFocusState;\n(function (DefaultFocusState) {\n    DefaultFocusState[DefaultFocusState[\"NONE\"] = 0] = \"NONE\";\n    DefaultFocusState[DefaultFocusState[\"LIST_ROOT\"] = 1] = \"LIST_ROOT\";\n    DefaultFocusState[DefaultFocusState[\"FIRST_ITEM\"] = 2] = \"FIRST_ITEM\";\n    DefaultFocusState[DefaultFocusState[\"LAST_ITEM\"] = 3] = \"LAST_ITEM\";\n})(DefaultFocusState || (DefaultFocusState = {}));\n\n/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar MDCMenuFoundation = /** @class */ (function (_super) {\n    __extends(MDCMenuFoundation, _super);\n    function MDCMenuFoundation(adapter) {\n        var _this = _super.call(this, __assign(__assign({}, MDCMenuFoundation.defaultAdapter), adapter)) || this;\n        _this.closeAnimationEndTimerId_ = 0;\n        _this.defaultFocusState_ = DefaultFocusState.LIST_ROOT;\n        return _this;\n    }\n    Object.defineProperty(MDCMenuFoundation, \"cssClasses\", {\n        get: function () {\n            return cssClasses$2;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenuFoundation, \"strings\", {\n        get: function () {\n            return strings$2;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenuFoundation, \"numbers\", {\n        get: function () {\n            return numbers$2;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenuFoundation, \"defaultAdapter\", {\n        /**\n         * @see {@link MDCMenuAdapter} for typing information on parameters and return types.\n         */\n        get: function () {\n            // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n            return {\n                addClassToElementAtIndex: function () { return undefined; },\n                removeClassFromElementAtIndex: function () { return undefined; },\n                addAttributeToElementAtIndex: function () { return undefined; },\n                removeAttributeFromElementAtIndex: function () { return undefined; },\n                elementContainsClass: function () { return false; },\n                closeSurface: function () { return undefined; },\n                getElementIndex: function () { return -1; },\n                notifySelected: function () { return undefined; },\n                getMenuItemCount: function () { return 0; },\n                focusItemAtIndex: function () { return undefined; },\n                focusListRoot: function () { return undefined; },\n                getSelectedSiblingOfItemAtIndex: function () { return -1; },\n                isSelectableItemAtIndex: function () { return false; },\n            };\n            // tslint:enable:object-literal-sort-keys\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MDCMenuFoundation.prototype.destroy = function () {\n        if (this.closeAnimationEndTimerId_) {\n            clearTimeout(this.closeAnimationEndTimerId_);\n        }\n        this.adapter.closeSurface();\n    };\n    MDCMenuFoundation.prototype.handleKeydown = function (evt) {\n        var key = evt.key, keyCode = evt.keyCode;\n        var isTab = key === 'Tab' || keyCode === 9;\n        if (isTab) {\n            this.adapter.closeSurface(/** skipRestoreFocus */ true);\n        }\n    };\n    MDCMenuFoundation.prototype.handleItemAction = function (listItem) {\n        var _this = this;\n        var index = this.adapter.getElementIndex(listItem);\n        if (index < 0) {\n            return;\n        }\n        this.adapter.notifySelected({ index: index });\n        this.adapter.closeSurface();\n        // Wait for the menu to close before adding/removing classes that affect styles.\n        this.closeAnimationEndTimerId_ = setTimeout(function () {\n            // Recompute the index in case the menu contents have changed.\n            var recomputedIndex = _this.adapter.getElementIndex(listItem);\n            if (recomputedIndex >= 0 &&\n                _this.adapter.isSelectableItemAtIndex(recomputedIndex)) {\n                _this.setSelectedIndex(recomputedIndex);\n            }\n        }, MDCMenuSurfaceFoundation.numbers.TRANSITION_CLOSE_DURATION);\n    };\n    MDCMenuFoundation.prototype.handleMenuSurfaceOpened = function () {\n        switch (this.defaultFocusState_) {\n            case DefaultFocusState.FIRST_ITEM:\n                this.adapter.focusItemAtIndex(0);\n                break;\n            case DefaultFocusState.LAST_ITEM:\n                this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount() - 1);\n                break;\n            case DefaultFocusState.NONE:\n                // Do nothing.\n                break;\n            default:\n                this.adapter.focusListRoot();\n                break;\n        }\n    };\n    /**\n     * Sets default focus state where the menu should focus every time when menu\n     * is opened. Focuses the list root (`DefaultFocusState.LIST_ROOT`) element by\n     * default.\n     */\n    MDCMenuFoundation.prototype.setDefaultFocusState = function (focusState) {\n        this.defaultFocusState_ = focusState;\n    };\n    /**\n     * Selects the list item at `index` within the menu.\n     * @param index Index of list item within the menu.\n     */\n    MDCMenuFoundation.prototype.setSelectedIndex = function (index) {\n        this.validatedIndex_(index);\n        if (!this.adapter.isSelectableItemAtIndex(index)) {\n            throw new Error('MDCMenuFoundation: No selection group at specified index.');\n        }\n        var prevSelectedIndex = this.adapter.getSelectedSiblingOfItemAtIndex(index);\n        if (prevSelectedIndex >= 0) {\n            this.adapter.removeAttributeFromElementAtIndex(prevSelectedIndex, strings$2.ARIA_CHECKED_ATTR);\n            this.adapter.removeClassFromElementAtIndex(prevSelectedIndex, cssClasses$2.MENU_SELECTED_LIST_ITEM);\n        }\n        this.adapter.addClassToElementAtIndex(index, cssClasses$2.MENU_SELECTED_LIST_ITEM);\n        this.adapter.addAttributeToElementAtIndex(index, strings$2.ARIA_CHECKED_ATTR, 'true');\n    };\n    /**\n     * Sets the enabled state to isEnabled for the menu item at the given index.\n     * @param index Index of the menu item\n     * @param isEnabled The desired enabled state of the menu item.\n     */\n    MDCMenuFoundation.prototype.setEnabled = function (index, isEnabled) {\n        this.validatedIndex_(index);\n        if (isEnabled) {\n            this.adapter.removeClassFromElementAtIndex(index, cssClasses.LIST_ITEM_DISABLED_CLASS);\n            this.adapter.addAttributeToElementAtIndex(index, strings$2.ARIA_DISABLED_ATTR, 'false');\n        }\n        else {\n            this.adapter.addClassToElementAtIndex(index, cssClasses.LIST_ITEM_DISABLED_CLASS);\n            this.adapter.addAttributeToElementAtIndex(index, strings$2.ARIA_DISABLED_ATTR, 'true');\n        }\n    };\n    MDCMenuFoundation.prototype.validatedIndex_ = function (index) {\n        var menuSize = this.adapter.getMenuItemCount();\n        var isIndexInRange = index >= 0 && index < menuSize;\n        if (!isIndexInRange) {\n            throw new Error('MDCMenuFoundation: No list item at specified index.');\n        }\n    };\n    return MDCMenuFoundation;\n}(MDCFoundation));\n\n/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar MDCMenu = /** @class */ (function (_super) {\n    __extends(MDCMenu, _super);\n    function MDCMenu() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MDCMenu.attachTo = function (root) {\n        return new MDCMenu(root);\n    };\n    MDCMenu.prototype.initialize = function (menuSurfaceFactory, listFactory) {\n        if (menuSurfaceFactory === void 0) { menuSurfaceFactory = function (el) { return new MDCMenuSurface(el); }; }\n        if (listFactory === void 0) { listFactory = function (el) { return new MDCList(el); }; }\n        this.menuSurfaceFactory_ = menuSurfaceFactory;\n        this.listFactory_ = listFactory;\n    };\n    MDCMenu.prototype.initialSyncWithDOM = function () {\n        var _this = this;\n        this.menuSurface_ = this.menuSurfaceFactory_(this.root);\n        var list = this.root.querySelector(strings$2.LIST_SELECTOR);\n        if (list) {\n            this.list_ = this.listFactory_(list);\n            this.list_.wrapFocus = true;\n        }\n        else {\n            this.list_ = null;\n        }\n        this.handleKeydown_ = function (evt) { return _this.foundation.handleKeydown(evt); };\n        this.handleItemAction_ = function (evt) {\n            return _this.foundation.handleItemAction(_this.items[evt.detail.index]);\n        };\n        this.handleMenuSurfaceOpened_ = function () {\n            return _this.foundation.handleMenuSurfaceOpened();\n        };\n        this.menuSurface_.listen(MDCMenuSurfaceFoundation.strings.OPENED_EVENT, this.handleMenuSurfaceOpened_);\n        this.listen('keydown', this.handleKeydown_);\n        this.listen(MDCListFoundation.strings.ACTION_EVENT, this.handleItemAction_);\n    };\n    MDCMenu.prototype.destroy = function () {\n        if (this.list_) {\n            this.list_.destroy();\n        }\n        this.menuSurface_.destroy();\n        this.menuSurface_.unlisten(MDCMenuSurfaceFoundation.strings.OPENED_EVENT, this.handleMenuSurfaceOpened_);\n        this.unlisten('keydown', this.handleKeydown_);\n        this.unlisten(MDCListFoundation.strings.ACTION_EVENT, this.handleItemAction_);\n        _super.prototype.destroy.call(this);\n    };\n    Object.defineProperty(MDCMenu.prototype, \"open\", {\n        get: function () {\n            return this.menuSurface_.isOpen();\n        },\n        set: function (value) {\n            if (value) {\n                this.menuSurface_.open();\n            }\n            else {\n                this.menuSurface_.close();\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenu.prototype, \"wrapFocus\", {\n        get: function () {\n            return this.list_ ? this.list_.wrapFocus : false;\n        },\n        set: function (value) {\n            if (this.list_) {\n                this.list_.wrapFocus = value;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenu.prototype, \"hasTypeahead\", {\n        /**\n         * Sets whether the menu has typeahead functionality.\n         * @param value Whether typeahead is enabled.\n         */\n        set: function (value) {\n            if (this.list_) {\n                this.list_.hasTypeahead = value;\n            }\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenu.prototype, \"typeaheadInProgress\", {\n        /**\n         * @return Whether typeahead logic is currently matching some user prefix.\n         */\n        get: function () {\n            return this.list_ ? this.list_.typeaheadInProgress : false;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Given the next desired character from the user, adds it to the typeahead\n     * buffer. Then, attempts to find the next option matching the buffer. Wraps\n     * around if at the end of options.\n     *\n     * @param nextChar The next character to add to the prefix buffer.\n     * @param startingIndex The index from which to start matching. Only relevant\n     *     when starting a new match sequence. To start a new match sequence,\n     *     clear the buffer using `clearTypeaheadBuffer`, or wait for the buffer\n     *     to clear after a set interval defined in list foundation. Defaults to\n     *     the currently focused index.\n     * @return The index of the matched item, or -1 if no match.\n     */\n    MDCMenu.prototype.typeaheadMatchItem = function (nextChar, startingIndex) {\n        if (this.list_) {\n            return this.list_.typeaheadMatchItem(nextChar, startingIndex);\n        }\n        return -1;\n    };\n    /**\n     * Layout the underlying list element in the case of any dynamic updates\n     * to its structure.\n     */\n    MDCMenu.prototype.layout = function () {\n        if (this.list_) {\n            this.list_.layout();\n        }\n    };\n    Object.defineProperty(MDCMenu.prototype, \"items\", {\n        /**\n         * Return the items within the menu. Note that this only contains the set of elements within\n         * the items container that are proper list items, and not supplemental / presentational DOM\n         * elements.\n         */\n        get: function () {\n            return this.list_ ? this.list_.listElements : [];\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenu.prototype, \"quickOpen\", {\n        set: function (quickOpen) {\n            this.menuSurface_.quickOpen = quickOpen;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Sets default focus state where the menu should focus every time when menu\n     * is opened. Focuses the list root (`DefaultFocusState.LIST_ROOT`) element by\n     * default.\n     * @param focusState Default focus state.\n     */\n    MDCMenu.prototype.setDefaultFocusState = function (focusState) {\n        this.foundation.setDefaultFocusState(focusState);\n    };\n    /**\n     * @param corner Default anchor corner alignment of top-left menu corner.\n     */\n    MDCMenu.prototype.setAnchorCorner = function (corner) {\n        this.menuSurface_.setAnchorCorner(corner);\n    };\n    MDCMenu.prototype.setAnchorMargin = function (margin) {\n        this.menuSurface_.setAnchorMargin(margin);\n    };\n    /**\n     * Sets the list item as the selected row at the specified index.\n     * @param index Index of list item within menu.\n     */\n    MDCMenu.prototype.setSelectedIndex = function (index) {\n        this.foundation.setSelectedIndex(index);\n    };\n    /**\n     * Sets the enabled state to isEnabled for the menu item at the given index.\n     * @param index Index of the menu item\n     * @param isEnabled The desired enabled state of the menu item.\n     */\n    MDCMenu.prototype.setEnabled = function (index, isEnabled) {\n        this.foundation.setEnabled(index, isEnabled);\n    };\n    /**\n     * @return The item within the menu at the index specified.\n     */\n    MDCMenu.prototype.getOptionByIndex = function (index) {\n        var items = this.items;\n        if (index < items.length) {\n            return this.items[index];\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * @param index A menu item's index.\n     * @return The primary text within the menu at the index specified.\n     */\n    MDCMenu.prototype.getPrimaryTextAtIndex = function (index) {\n        var item = this.getOptionByIndex(index);\n        if (item && this.list_) {\n            return this.list_.getPrimaryText(item) || '';\n        }\n        return '';\n    };\n    MDCMenu.prototype.setFixedPosition = function (isFixed) {\n        this.menuSurface_.setFixedPosition(isFixed);\n    };\n    MDCMenu.prototype.setIsHoisted = function (isHoisted) {\n        this.menuSurface_.setIsHoisted(isHoisted);\n    };\n    MDCMenu.prototype.setAbsolutePosition = function (x, y) {\n        this.menuSurface_.setAbsolutePosition(x, y);\n    };\n    /**\n     * Sets the element that the menu-surface is anchored to.\n     */\n    MDCMenu.prototype.setAnchorElement = function (element) {\n        this.menuSurface_.anchorElement = element;\n    };\n    MDCMenu.prototype.getDefaultFoundation = function () {\n        var _this = this;\n        // DO NOT INLINE this variable. For backward compatibility, foundations take a Partial<MDCFooAdapter>.\n        // To ensure we don't accidentally omit any methods, we need a separate, strongly typed adapter variable.\n        // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n        var adapter = {\n            addClassToElementAtIndex: function (index, className) {\n                var list = _this.items;\n                list[index].classList.add(className);\n            },\n            removeClassFromElementAtIndex: function (index, className) {\n                var list = _this.items;\n                list[index].classList.remove(className);\n            },\n            addAttributeToElementAtIndex: function (index, attr, value) {\n                var list = _this.items;\n                list[index].setAttribute(attr, value);\n            },\n            removeAttributeFromElementAtIndex: function (index, attr) {\n                var list = _this.items;\n                list[index].removeAttribute(attr);\n            },\n            elementContainsClass: function (element, className) {\n                return element.classList.contains(className);\n            },\n            closeSurface: function (skipRestoreFocus) {\n                return _this.menuSurface_.close(skipRestoreFocus);\n            },\n            getElementIndex: function (element) { return _this.items.indexOf(element); },\n            notifySelected: function (evtData) {\n                return _this.emit(strings$2.SELECTED_EVENT, {\n                    index: evtData.index,\n                    item: _this.items[evtData.index],\n                });\n            },\n            getMenuItemCount: function () { return _this.items.length; },\n            focusItemAtIndex: function (index) { return _this.items[index].focus(); },\n            focusListRoot: function () {\n                return _this.root.querySelector(strings$2.LIST_SELECTOR)\n                    .focus();\n            },\n            isSelectableItemAtIndex: function (index) {\n                return !!closest(_this.items[index], \".\" + cssClasses$2.MENU_SELECTION_GROUP);\n            },\n            getSelectedSiblingOfItemAtIndex: function (index) {\n                var selectionGroupEl = closest(_this.items[index], \".\" + cssClasses$2.MENU_SELECTION_GROUP);\n                var selectedItemEl = selectionGroupEl.querySelector(\".\" + cssClasses$2.MENU_SELECTED_LIST_ITEM);\n                return selectedItemEl ? _this.items.indexOf(selectedItemEl) : -1;\n            },\n        };\n        // tslint:enable:object-literal-sort-keys\n        return new MDCMenuFoundation(adapter);\n    };\n    return MDCMenu;\n}(MDCComponent));\n\nexport { Corner as C, DefaultFocusState as D, KEY as K, MDCMenu as M, strings$2 as a, normalizeKey as n, strings$1 as s };\n\n"]}